
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A R documentation website.">
      
      
      
      
      <link rel="icon" href="../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-7.3.0">
    
    
      
        <title>I/O Snippets & Cleaning - ugo_r_doc</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.8b42a75e.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.3f5d1f46.min.css">
        
          
          
          <meta name="theme-color" content="#2094f3">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,400i,700%7CUbuntu+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Ubuntu";--md-code-font-family:"Ubuntu Mono"}</style>
      
    
    
    
      <link rel="stylesheet" href="../extra.css">
    
    
      


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="blue" data-md-color-accent="red">
  
    
    <script>function __prefix(e){return new URL("..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#datasets" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="ugo_r_doc" class="md-header__button md-logo" aria-label="ugo_r_doc" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12 16 7.36-5.73L21 9l-9-7-9 7 1.63 1.27M12 18.54l-7.38-5.73L3 14.07l9 7 9-7-1.63-1.27L12 18.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ugo_r_doc
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              I/O Snippets & Cleaning
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/ugoproto/ugo_r_doc.git/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    ugo_r_doc
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="ugo_r_doc" class="md-nav__button md-logo" aria-label="ugo_r_doc" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12 16 7.36-5.73L21 9l-9-7-9 7 1.63 1.27M12 18.54l-7.38-5.73L3 14.07l9 7 9-7-1.63-1.27L12 18.54z"/></svg>

    </a>
    ugo_r_doc
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/ugoproto/ugo_r_doc.git/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    ugo_r_doc
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Cheat Sheets
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Cheat Sheets" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Cheat Sheets
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../basics_cs/" class="md-nav__link">
        Basics Cheat Sheets
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../specializations_cs/" class="md-nav__link">
        Specialization Cheat Sheets
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../visualization_cs/" class="md-nav__link">
        Visualization Cheat Sheets
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Code and Vade Mecum
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Code and Vade Mecum" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Code and Vade Mecum
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../frequentist_bayesian/" class="md-nav__link">
        Frequentist vs. Bayesian
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../intermediate_r/" class="md-nav__link">
        Intermediate R
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../intermediate_r_the_apply_family/" class="md-nav__link">
        Intermediate R - The apply Family
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Data Wrangling Snippets
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Data Wrangling Snippets" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Data Wrangling Snippets
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          I/O Snippets & Cleaning
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        I/O Snippets & Cleaning
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#datasets" class="md-nav__link">
    Datasets
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#importing-data-into-r" class="md-nav__link">
    Importing Data Into R
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#importing-data-from-flat-files" class="md-nav__link">
    Importing Data from Flat Files
  </a>
  
    <nav class="md-nav" aria-label="Importing Data from Flat Files">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#r-functions-by-default" class="md-nav__link">
    R functions, by default.
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-utils-package" class="md-nav__link">
    The utils package
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#from-importing-data-from-the-web" class="md-nav__link">
    (from Importing Data from the Web)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-readr-package" class="md-nav__link">
    The readr package
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#from-importing-data-from-the-web_1" class="md-nav__link">
    (from Importing Data from the Web)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-datatable-package" class="md-nav__link">
    The data.table package
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#importing-data-from-excel" class="md-nav__link">
    Importing Data from Excel
  </a>
  
    <nav class="md-nav" aria-label="Importing Data from Excel">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-readxl-package" class="md-nav__link">
    The readxl package
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#from-importing-data-from-the-web_2" class="md-nav__link">
    (from Importing Data from the Web)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-xlconnect-package" class="md-nav__link">
    The XLConnect package
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#importing-data-from-other-statistical-software" class="md-nav__link">
    Importing Data from Other Statistical Software
  </a>
  
    <nav class="md-nav" aria-label="Importing Data from Other Statistical Software">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-haven-package" class="md-nav__link">
    The haven package
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#theforeign-package" class="md-nav__link">
    Theforeign package
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#importing-data-from-relational-data" class="md-nav__link">
    Importing Data from Relational Data
  </a>
  
    <nav class="md-nav" aria-label="Importing Data from Relational Data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-dbi-package" class="md-nav__link">
    The DBI package
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#importing-data-from-relational-data-more" class="md-nav__link">
    Importing Data from Relational Data -- More
  </a>
  
    <nav class="md-nav" aria-label="Importing Data from Relational Data -- More">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dbi" class="md-nav__link">
    DBI
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rsqlite" class="md-nav__link">
    RSQLite
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mysql-with-dbi-or-rmysql" class="md-nav__link">
    MySQL with DBI or RMySQL
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#posgresql-with-dbi-or-rpostgresql" class="md-nav__link">
    PosgreSQL with DBI or RPostgreSQL
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#importing-data-from-the-web" class="md-nav__link">
    Importing Data from the Web
  </a>
  
    <nav class="md-nav" aria-label="Importing Data from the Web">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-httr-package" class="md-nav__link">
    The httr package
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-jsonlite-package" class="md-nav__link">
    The jsonlite package
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#keyboard-inputting" class="md-nav__link">
    Keyboard Inputting
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exporting-data" class="md-nav__link">
    Exporting Data
  </a>
  
    <nav class="md-nav" aria-label="Exporting Data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#to-a-tab-delimited-text-file" class="md-nav__link">
    To a Tab-Delimited Text File
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to-an-excel-spreadsheet" class="md-nav__link">
    To an Excel Spreadsheet
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to-spss" class="md-nav__link">
    To SPSS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to-sas" class="md-nav__link">
    To SAS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to-stata" class="md-nav__link">
    To Stata
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#inspecting-data-missing-data" class="md-nav__link">
    Inspecting Data - Missing Data
  </a>
  
    <nav class="md-nav" aria-label="Inspecting Data - Missing Data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#inspecting" class="md-nav__link">
    Inspecting
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-dplyr-package" class="md-nav__link">
    The dplyr package
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#for-thorough-cleaning" class="md-nav__link">
    For thorough cleaning
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#labels-levels" class="md-nav__link">
    Labels &amp; Levels
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-work-with-quandl-in-r" class="md-nav__link">
    How to work with Quandl in R
  </a>
  
    <nav class="md-nav" aria-label="How to work with Quandl in R">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#importing-quandl-datasets" class="md-nav__link">
    Importing Quandl Datasets
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#manipulating-quandl-datasets" class="md-nav__link">
    Manipulating Quandl Datasets
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cleaning-data-in-r" class="md-nav__link">
    Cleaning Data in R
  </a>
  
    <nav class="md-nav" aria-label="Cleaning Data in R">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#introduction-and-exploring-raw-data" class="md-nav__link">
    Introduction and Exploring Raw Data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tidying-data" class="md-nav__link">
    Tidying Data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#preparing-data-for-analysis" class="md-nav__link">
    Preparing Data for Analysis
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#putting-it-all-together" class="md-nav__link">
    Putting it All Together
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reading_data_into_r_with_readr/" class="md-nav__link">
        Reading Data into R with readr
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../data_analysis_in_r_the_data_table_way/" class="md-nav__link">
        Data Analysis in R, the data.table Way
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../data_manipulation_in_r_with_dplyr/" class="md-nav__link">
        Data Manipulation in R with dplyr
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../data_wrangling/" class="md-nav__link">
        Data Wrangling
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Packages
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Packages" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Packages
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../googlevis/" class="md-nav__link">
        googleVis (embed HTML plots)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gganimate/" class="md-nav__link">
        gganimate
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../fast_and_frugal_decision_trees_in_r_with_fftrees/" class="md-nav__link">
        Fast-and-Frugal Decision Trees
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../big_data_analysis_with_revolution_r_enterprise/" class="md-nav__link">
        Big Data Analysis with Revolution R Enterprise
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../time_series_in_r_the_power_of_xts_and_zoo/" class="md-nav__link">
        Time Series in R, The Power of xts and zoo
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          Plot Snippets
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Plot Snippets" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Plot Snippets
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../plot_snippets_basics/" class="md-nav__link">
        Plot Snippets for Exploratory (and some Explanatory) Analyses
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../plot_snippets_ggplot2/" class="md-nav__link">
        Plot Snippets - ggplot2
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../plot_snippets_ggvis/" class="md-nav__link">
        Plot Snippets - ggvis
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../plot_snippets_colours/" class="md-nav__link">
        Plot Snippets - Colours
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7">
          RStudio
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="RStudio" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          RStudio
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../working_with_rstudio_ide/" class="md-nav__link">
        Working with the RStudio IDE
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      
      
      
        <label class="md-nav__link" for="__nav_8">
          Tables and Figures
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Tables and Figures" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Tables and Figures
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tables/" class="md-nav__link">
        Tables
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../embedding/" class="md-nav__link">
        Embedding HTML into HTML
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../embedding_2/" class="md-nav__link">
        Embedding Rmd into Rmd
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9" type="checkbox" id="__nav_9" >
      
      
      
      
        <label class="md-nav__link" for="__nav_9">
          A Hands-on Introduction to Statistics with R
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="A Hands-on Introduction to Statistics with R" data-md-level="1">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          A Hands-on Introduction to Statistics with R
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../a_hands-on_introduction_to_statistics_with_r_course_one_introduction/" class="md-nav__link">
        Statistics with R, Course One, Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../a_hands-on_introduction_to_statistics_with_r_course_two_student_s_t-test/" class="md-nav__link">
        Statistics with R, Course Two, Student's t-test
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../a_hands-on_introduction_to_statistics_with_r_course_three_analysis_of_variance/" class="md-nav__link">
        Statistics with R, Course Three, Analysis of Variance
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../a_hands-on_introduction_to_statistics_with_r_course_four_repeated_measures_anova/" class="md-nav__link">
        Statistics with R, Course Four, Repeated Measures ANOVA
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../a_hands-on_introduction_to_statistics_with_r_course_five_correlation_and_regression/" class="md-nav__link">
        Statistics with R, Course Five, Correlation and Regression
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../a_hands-on_introduction_to_statistics_with_r_course_six_multiple_regression/" class="md-nav__link">
        Statistics with R, Course Six, Multiple Regression
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../a_hands-on_introduction_to_statistics_with_r_course_seven_moderation_and_mediation/" class="md-nav__link">
        Statistics with R, Course Seven, Moderation and Mediation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../a_hands-on_introduction_to_statistics_with_r_notes/" class="md-nav__link">
        Statistics with R, Notes
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#datasets" class="md-nav__link">
    Datasets
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#importing-data-into-r" class="md-nav__link">
    Importing Data Into R
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#importing-data-from-flat-files" class="md-nav__link">
    Importing Data from Flat Files
  </a>
  
    <nav class="md-nav" aria-label="Importing Data from Flat Files">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#r-functions-by-default" class="md-nav__link">
    R functions, by default.
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-utils-package" class="md-nav__link">
    The utils package
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#from-importing-data-from-the-web" class="md-nav__link">
    (from Importing Data from the Web)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-readr-package" class="md-nav__link">
    The readr package
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#from-importing-data-from-the-web_1" class="md-nav__link">
    (from Importing Data from the Web)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-datatable-package" class="md-nav__link">
    The data.table package
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#importing-data-from-excel" class="md-nav__link">
    Importing Data from Excel
  </a>
  
    <nav class="md-nav" aria-label="Importing Data from Excel">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-readxl-package" class="md-nav__link">
    The readxl package
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#from-importing-data-from-the-web_2" class="md-nav__link">
    (from Importing Data from the Web)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-xlconnect-package" class="md-nav__link">
    The XLConnect package
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#importing-data-from-other-statistical-software" class="md-nav__link">
    Importing Data from Other Statistical Software
  </a>
  
    <nav class="md-nav" aria-label="Importing Data from Other Statistical Software">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-haven-package" class="md-nav__link">
    The haven package
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#theforeign-package" class="md-nav__link">
    Theforeign package
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#importing-data-from-relational-data" class="md-nav__link">
    Importing Data from Relational Data
  </a>
  
    <nav class="md-nav" aria-label="Importing Data from Relational Data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-dbi-package" class="md-nav__link">
    The DBI package
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#importing-data-from-relational-data-more" class="md-nav__link">
    Importing Data from Relational Data -- More
  </a>
  
    <nav class="md-nav" aria-label="Importing Data from Relational Data -- More">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dbi" class="md-nav__link">
    DBI
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rsqlite" class="md-nav__link">
    RSQLite
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mysql-with-dbi-or-rmysql" class="md-nav__link">
    MySQL with DBI or RMySQL
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#posgresql-with-dbi-or-rpostgresql" class="md-nav__link">
    PosgreSQL with DBI or RPostgreSQL
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#importing-data-from-the-web" class="md-nav__link">
    Importing Data from the Web
  </a>
  
    <nav class="md-nav" aria-label="Importing Data from the Web">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-httr-package" class="md-nav__link">
    The httr package
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-jsonlite-package" class="md-nav__link">
    The jsonlite package
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#keyboard-inputting" class="md-nav__link">
    Keyboard Inputting
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exporting-data" class="md-nav__link">
    Exporting Data
  </a>
  
    <nav class="md-nav" aria-label="Exporting Data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#to-a-tab-delimited-text-file" class="md-nav__link">
    To a Tab-Delimited Text File
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to-an-excel-spreadsheet" class="md-nav__link">
    To an Excel Spreadsheet
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to-spss" class="md-nav__link">
    To SPSS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to-sas" class="md-nav__link">
    To SAS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to-stata" class="md-nav__link">
    To Stata
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#inspecting-data-missing-data" class="md-nav__link">
    Inspecting Data - Missing Data
  </a>
  
    <nav class="md-nav" aria-label="Inspecting Data - Missing Data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#inspecting" class="md-nav__link">
    Inspecting
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-dplyr-package" class="md-nav__link">
    The dplyr package
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#for-thorough-cleaning" class="md-nav__link">
    For thorough cleaning
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#labels-levels" class="md-nav__link">
    Labels &amp; Levels
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-work-with-quandl-in-r" class="md-nav__link">
    How to work with Quandl in R
  </a>
  
    <nav class="md-nav" aria-label="How to work with Quandl in R">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#importing-quandl-datasets" class="md-nav__link">
    Importing Quandl Datasets
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#manipulating-quandl-datasets" class="md-nav__link">
    Manipulating Quandl Datasets
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cleaning-data-in-r" class="md-nav__link">
    Cleaning Data in R
  </a>
  
    <nav class="md-nav" aria-label="Cleaning Data in R">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#introduction-and-exploring-raw-data" class="md-nav__link">
    Introduction and Exploring Raw Data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tidying-data" class="md-nav__link">
    Tidying Data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#preparing-data-for-analysis" class="md-nav__link">
    Preparing Data for Analysis
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#putting-it-all-together" class="md-nav__link">
    Putting it All Together
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/ugoproto/ugo_r_doc.git/edit/master/docs/io_snippets_cleaning.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  <h1>I/O Snippets & Cleaning</h1>
                
                <!--
-   [Datasets](#datasets)
-   [Importing Data Into R](#importing-data-into-r)
    -   [1, Importing Data from Flat
        Files](#importing-data-from-flat-files)
    -   [2, Importing Data from Excel](#importing-data-from-excel)
    -   [3, Importing Data from Other Statistical
        Software](#importing-data-from-other-statistical-software)
    -   [4, Importing Data from Relational
        Data](#importing-data-from-relational-data)
    -   [4b, Importing Data from Relational Data --
        More](#b-importing-data-from-relational-data----more)
    -   [5, Importing Data from the Web](#importing-data-from-the-web)
    -   [6, Keyboard Inputting](#keyboard-inputting)
    -   [7, Exporting Data](#exporting-data)
    -   [8, Inspecting Data - Missing
        Data](#inspecting-data---missing-data)
    -   [9, Labels & Levels](#labels-levels)
-   [How to work with Quandl in R](#how-to-work-with-quandl-in-r)
    -   [1, Importing Quandl Datasets](#importing-quandl-datasets)
    -   [2, Manipulating Quandl Datasets](#manipulating-quandl-datasets)
-   [Cleaning Data in R](#cleaning-data-in-r)
    -   [1, Introduction and Exploring Raw
        Data](#introduction-and-exploring-raw-data)
    -   [2, Tidying Data](#tidying-data)
    -   [3, Preparing Data for Analysis](#preparing-data-for-analysis)
    -   [4, Putting it All Together](#putting-it-all-together)
-->
<hr />
<p><strong>Foreword</strong></p>
<ul>
<li>Output options: the &lsquo;tango&rsquo; syntax and the &lsquo;readable&rsquo; theme.</li>
<li>Snippets and results.</li>
</ul>
<hr />
<h3 id="datasets">Datasets<a class="headerlink" href="#datasets" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="http://stat.ethz.ch/R-manual/R-patched/library/datasets/html/00Index.html">R Dataset Packages</a>; by default in R.</li>
<li>Other dataset can be imported with <code>data(Cars93, package = 'MASS')</code> for example.</li>
<li><a href="https://vincentarelbundock.github.io/Rdatasets/datasets.html">csv/doc Datasets</a>.</li>
<li><a href="https://r-dir.com/reference/datasets.html">Free Datasets</a> from the World Bank, Gapminder, Kaggle, Quandl, Reddit, and many more websites.</li>
<li><a href="https://www.r-bloggers.com/datasets-to-practice-your-data-mining/">Datasets</a> to Practice Your Data Mining.</li>
<li><a href="http://college.cengage.com/mathematics/brase/understandable_statistics/7e/students/datasets/slr/frames/frame.html">Houghton Mifflin Data</a> for linear regressions.</li>
<li><a href="http://data.princeton.edu/wws509/datasets/">Regression Datasets</a> for Generalized Linear Models (linear, logistic, poisson, multinomial, survival).</li>
<li><a href="http://www.kdnuggets.com/2015/04/awesome-public-datasets-github.html">Public Datasets on GitHub</a>.</li>
<li><a href="https://github.com/caesar0301/awesome-public-datasets">Awesome Public Datasets</a>.</li>
</ul>
<hr />
<h2 id="importing-data-into-r">Importing Data Into R<a class="headerlink" href="#importing-data-into-r" title="Permanent link">&para;</a></h2>
<p>The packages:</p>
<ul>
<li><code>utils</code>.</li>
<li><code>readr</code>.</li>
<li><code>data.table</code>.</li>
<li><code>readxl</code>.</li>
<li><code>gdata</code>.</li>
<li><code>XLConnect</code>.</li>
<li><code>haven</code>.</li>
<li><code>foreign</code>.</li>
<li><code>DBI</code>.</li>
<li><code>httr</code>.</li>
<li><code>jsonlite</code>.</li>
</ul>
<h2 id="importing-data-from-flat-files">Importing Data from Flat Files<a class="headerlink" href="#importing-data-from-flat-files" title="Permanent link">&para;</a></h2>
<h3 id="r-functions-by-default">R functions, by default.<a class="headerlink" href="#r-functions-by-default" title="Permanent link">&para;</a></h3>
<ul>
<li><code>read.csv</code>; <code>sep = ','</code>, <code>dec = '.'</code>.</li>
<li><code>read.delim</code>; .txt, <code>dec = '.'</code>.</li>
<li><code>read.csv2</code>; <code>sep = ';'</code>, <code>dec = ','</code>.</li>
<li><code>read.delim2</code>; .txt, <code>dec = ','</code>.</li>
<li>Needs arguments.</li>
</ul>
<p><strong><code>read.csv</code> for .csv files</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># List the files in your working directory</span>
<span class="nf">dir</span><span class="p">()</span>

<span class="c1"># Import swimming_pools.csv: pools</span>
<span class="c1"># stringAsFactors = FALSE does not import strings as categorical variables</span>
<span class="n">pools</span> <span class="o">&lt;-</span> <span class="nf">read.csv</span><span class="p">(</span><span class="s">&#39;swimming_pools.csv&#39;</span><span class="p">,</span> <span class="n">stringsAsFactors</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">)</span>
</code></pre></div>
<p><code>stringsAsFactors</code></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Import swimming_pools.csv correctly: pools</span>
<span class="n">pools</span> <span class="o">&lt;-</span> <span class="nf">read.csv</span><span class="p">(</span><span class="s">&#39;swimming_pools.csv&#39;</span><span class="p">,</span> <span class="n">stringsAsFactor</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">,</span> <span class="n">header</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">,</span> <span class="n">sep</span> <span class="o">=</span> <span class="s">&#39;,&#39;</span><span class="p">)</span>

<span class="c1"># Import swimming_pools.csv with factors: pools_factor</span>
<span class="n">pools_factor</span> <span class="o">&lt;-</span> <span class="nf">read.csv</span><span class="p">(</span><span class="s">&#39;swimming_pools.csv&#39;</span><span class="p">,</span> <span class="n">header</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">,</span> <span class="n">sep</span> <span class="o">=</span> <span class="s">&#39;,&#39;</span><span class="p">)</span>
</code></pre></div>
<p><strong><code>read.delim</code> for .txt files</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Import hotdogs.txt: hotdogs</span>
<span class="n">hotdogs</span> <span class="o">&lt;-</span> <span class="nf">read.delim</span><span class="p">(</span><span class="s">&#39;hotdogs.txt&#39;</span><span class="p">,</span> <span class="n">header</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">)</span>

<span class="c1"># Name the columns of hotdogs appropriately</span>
<span class="nf">names</span><span class="p">(</span><span class="n">hotdogs</span><span class="p">)</span> <span class="o">&lt;-</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#39;type&#39;</span><span class="p">,</span> <span class="s">&#39;calories&#39;</span><span class="p">,</span> <span class="s">&#39;sodium&#39;</span><span class="p">)</span>
</code></pre></div>
<p>Arguments.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Load in the hotdogs data set: hotdogs</span>
<span class="n">hotdogs</span> <span class="o">&lt;-</span> <span class="nf">read.delim</span><span class="p">(</span><span class="s">&#39;hotdogs.txt&#39;</span><span class="p">,</span> <span class="n">header</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">,</span> <span class="n">sep</span> <span class="o">=</span> <span class="s">&#39;\t&#39;</span><span class="p">,</span> <span class="n">col.names</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#39;type&#39;</span><span class="p">,</span> <span class="s">&#39;calories&#39;</span><span class="p">,</span> <span class="s">&#39;sodium&#39;</span><span class="p">))</span>

<span class="c1"># Select the hot dog with the least calories: lily</span>
<span class="n">lily</span> <span class="o">&lt;-</span> <span class="n">hotdogs</span><span class="p">[</span><span class="nf">which.min</span><span class="p">(</span><span class="n">hotdogs</span><span class="o">$</span><span class="n">calories</span><span class="p">),</span> <span class="p">]</span>
<span class="c1"># Select the observation with the most sodium: tom</span>

<span class="n">tom</span> <span class="o">&lt;-</span> <span class="n">hotdogs</span><span class="p">[</span><span class="nf">which.max</span><span class="p">(</span><span class="n">hotdogs</span><span class="o">$</span><span class="n">sodium</span><span class="p">),</span> <span class="p">]</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1"># Previous call to import hotdogs.txt</span>
<span class="n">hotdogs</span> <span class="o">&lt;-</span> <span class="nf">read.delim</span><span class="p">(</span><span class="s">&#39;hotdogs.txt&#39;</span><span class="p">,</span> <span class="n">header</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">,</span> <span class="n">col.names</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#39;type&#39;</span><span class="p">,</span> <span class="s">&#39;calories&#39;</span><span class="p">,</span> <span class="s">&#39;sodium&#39;</span><span class="p">))</span>

<span class="c1"># Print a vector representing the classes of the columns</span>
<span class="nf">sapply</span><span class="p">(</span><span class="n">hotdogs</span><span class="p">,</span> <span class="n">class</span><span class="p">)</span>

<span class="c1"># Edit the colClasses argument to import the data correctly: hotdogs2</span>
<span class="n">hotdogs2</span> <span class="o">&lt;-</span> <span class="nf">read.delim</span><span class="p">(</span><span class="s">&#39;hotdogs.txt&#39;</span><span class="p">,</span> <span class="n">header</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">,</span> <span class="n">col.names</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#39;type&#39;</span><span class="p">,</span> <span class="s">&#39;calories&#39;</span><span class="p">,</span> <span class="s">&#39;sodium&#39;</span><span class="p">),</span> <span class="n">colClasses</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#39;factor&#39;</span><span class="p">,</span> <span class="s">&#39;NULL&#39;</span><span class="p">,</span> <span class="s">&#39;numeric&#39;</span><span class="p">))</span>
</code></pre></div>
<h3 id="the-utils-package">The <code>utils</code> package<a class="headerlink" href="#the-utils-package" title="Permanent link">&para;</a></h3>
<ul>
<li><code>read.table</code>; <code>sep = '\t'</code>, <code>= ','</code>, <code>= ';'</code>.</li>
<li>Read any tabular as a d.f.</li>
<li>Needs arguments; lots of argument for precision.</li>
<li>Slow.</li>
</ul>
<!-- -->

<div class="highlight"><pre><span></span><code><span class="nf">library</span><span class="p">(</span><span class="n">utils</span><span class="p">)</span>
</code></pre></div>
<p><strong><code>read.table</code> .txt files</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Create a path to the hotdogs.txt file</span>
<span class="n">path</span> <span class="o">&lt;-</span> <span class="nf">file.path</span><span class="p">(</span><span class="s">&#39;hotdogs&#39;</span><span class="p">,</span> <span class="s">&#39;hotdogs.txt&#39;</span><span class="p">)</span>

<span class="c1"># Import the hotdogs.txt file: hotdogs</span>
<span class="n">hotdogs</span> <span class="o">&lt;-</span> <span class="nf">read.table</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">header</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">,</span> <span class="n">sep</span> <span class="o">=</span> <span class="s">&#39;\t&#39;</span><span class="p">,</span> <span class="n">col.names</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#39;type&#39;</span><span class="p">,</span> <span class="s">&#39;calories&#39;</span><span class="p">,</span> <span class="s">&#39;sodium&#39;</span><span class="p">))</span>
</code></pre></div>
<hr />
<h3 id="from-importing-data-from-the-web">(from Importing Data from the Web)<a class="headerlink" href="#from-importing-data-from-the-web" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># https URL to the swimming_pools csv file.</span>
<span class="n">url_csv</span> <span class="o">&lt;-</span> <span class="s">&#39;https://s3.amazonaws.com/assets.datacamp.com/course/importing_data_into_r/swimming_pools.csv&#39;</span>

<span class="c1"># Import the file using read.csv(): pools1</span>
<span class="n">pools1</span> <span class="o">&lt;-</span> <span class="nf">read.csv</span><span class="p">(</span><span class="n">url_csv</span><span class="p">)</span>
</code></pre></div>
<hr />
<h3 id="the-readr-package">The <code>readr</code> package<a class="headerlink" href="#the-readr-package" title="Permanent link">&para;</a></h3>
<ul>
<li><code>read_delim</code>; <code>delim = '\t'</code>, <code>= ','</code>.</li>
<li><code>read_csv</code>; read <code>100.000, 200.000</code></li>
<li><code>read_tsv</code>; idem.</li>
<li><code>read_csv2</code>; read <code>100,000; 200,000</code> or European files..</li>
<li><code>read_tsv2</code>; idem.</li>
<li><code>read_lines</code>.</li>
<li><code>read_file</code>.</li>
<li><code>write_csv</code>.</li>
<li><code>write_rds</code>.</li>
<li><code>type_convert</code>.</li>
<li><code>parse_factor</code>.</li>
<li><code>parse_date</code>.</li>
<li><code>parse_number</code>.</li>
<li><code>spec_csv</code>.</li>
<li><code>spec_delim</code>.</li>
<li>Fast, few arguments.</li>
<li>Detect data type.</li>
</ul>
<!-- -->

<div class="highlight"><pre><span></span><code><span class="nf">library</span><span class="p">(</span><span class="n">readr</span><span class="p">)</span>
</code></pre></div>
<p><strong><code>read_delim</code> .txt files</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Import potatoes.txt using read_delim(): potatoes</span>
<span class="n">potatoes</span> <span class="o">&lt;-</span> <span class="nf">read_delim</span><span class="p">(</span><span class="s">&#39;potatoes.txt&#39;</span><span class="p">,</span> <span class="n">delim</span> <span class="o">=</span> <span class="s">&#39;\t&#39;</span><span class="p">)</span>
</code></pre></div>
<p><strong><code>read_csv</code> .csv files</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Column names</span>
<span class="n">properties</span> <span class="o">&lt;-</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#39;area&#39;</span><span class="p">,</span> <span class="s">&#39;temp&#39;</span><span class="p">,</span> <span class="s">&#39;size&#39;</span><span class="p">,</span> <span class="s">&#39;storage&#39;</span><span class="p">,</span> <span class="s">&#39;method&#39;</span><span class="p">,</span> <span class="s">&#39;texture&#39;</span><span class="p">,</span> <span class="s">&#39;flavor&#39;</span><span class="p">,</span> <span class="s">&#39;moistness&#39;</span><span class="p">)</span>

<span class="c1"># Import potatoes.csv with read_csv(): potatoes</span>
<span class="n">potatoes</span> <span class="o">&lt;-</span> <span class="nf">read_csv</span><span class="p">(</span><span class="s">&#39;potatoes.csv&#39;</span><span class="p">,</span> <span class="n">col_names</span> <span class="o">=</span> <span class="n">properties</span><span class="p">)</span>

<span class="c1"># Create a copy of potatoes: potatoes2</span>
<span class="n">potatoes2</span> <span class="o">&lt;-</span> <span class="n">potatoes</span>

<span class="c1"># Convert the method column of potatoes2 to a factor</span>
<span class="n">potatoes2</span><span class="o">$</span><span class="n">method</span> <span class="o">=</span> <span class="nf">factor</span><span class="p">(</span><span class="n">potatoes2</span><span class="o">$</span><span class="n">method</span><span class="p">)</span>

<span class="c1"># or</span>

<span class="n">potatoes2</span><span class="o">$</span><span class="n">method</span> <span class="o">=</span> <span class="nf">as.factor</span><span class="p">(</span><span class="n">potatoes2</span><span class="o">$</span><span class="n">method</span><span class="p">)</span>
</code></pre></div>
<p><strong><code>col_types</code>, <code>skip</code> and <code>n_max</code> in .tsv files</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Column names</span>
<span class="n">properties</span> <span class="o">&lt;-</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#39;area&#39;</span><span class="p">,</span> <span class="s">&#39;temp&#39;</span><span class="p">,</span> <span class="s">&#39;size&#39;</span><span class="p">,</span> <span class="s">&#39;storage&#39;</span><span class="p">,</span> <span class="s">&#39;method&#39;</span><span class="p">,</span> <span class="s">&#39;texture&#39;</span><span class="p">,</span> <span class="s">&#39;flavor&#39;</span><span class="p">,</span> <span class="s">&#39;moistness&#39;</span><span class="p">)</span>

<span class="c1"># Import 5 observations from potatoes.txt: potatoes_fragment</span>
<span class="c1"># read_tsv or tab-separated values</span>
<span class="n">potatoes_fragment</span> <span class="o">&lt;-</span> <span class="nf">read_tsv</span><span class="p">(</span><span class="s">&#39;potatoes.txt&#39;</span><span class="p">,</span> <span class="n">col_names</span> <span class="o">=</span> <span class="n">properties</span><span class="p">,</span> <span class="n">skip</span> <span class="o">=</span> <span class="m">7</span><span class="p">,</span> <span class="n">n_max</span> <span class="o">=</span> <span class="m">5</span><span class="p">)</span>

<span class="c1"># Import all data, but force all columns to be character: potatoes_char</span>
<span class="n">potatoes_char</span> <span class="o">&lt;-</span> <span class="nf">read_tsv</span><span class="p">(</span><span class="s">&#39;potatoes.txt&#39;</span><span class="p">,</span> <span class="n">col_types</span> <span class="o">=</span> <span class="s">&#39;cccccccc&#39;</span><span class="p">)</span>
</code></pre></div>
<p><strong>Setting column types</strong></p>
<div class="highlight"><pre><span></span><code><span class="nf">cols</span><span class="p">(</span>
  <span class="n">weight</span> <span class="o">=</span> <span class="nf">col_integer</span><span class="p">(),</span>
  <span class="n">feed</span> <span class="o">=</span> <span class="nf">col_character</span><span class="p">()</span>
<span class="p">)</span>
</code></pre></div>
<p><strong>Removing NA</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">na</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#39;NA&#39;</span><span class="p">,</span> <span class="s">&#39;null&#39;</span><span class="p">)</span>
</code></pre></div>
<p><strong><code>col_types</code> with collectors .tsv files</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Import without col_types</span>
<span class="n">hotdogs</span> <span class="o">&lt;-</span> <span class="nf">read_tsv</span><span class="p">(</span><span class="s">&#39;hotdogs.txt&#39;</span><span class="p">,</span> <span class="n">col_names</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#39;type&#39;</span><span class="p">,</span> <span class="s">&#39;calories&#39;</span><span class="p">,</span> <span class="s">&#39;sodium&#39;</span><span class="p">))</span>

<span class="c1"># The collectors you will need to import the data</span>
<span class="n">fac</span> <span class="o">&lt;-</span> <span class="nf">col_factor</span><span class="p">(</span><span class="n">levels</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#39;Beef&#39;</span><span class="p">,</span> <span class="s">&#39;Meat&#39;</span><span class="p">,</span> <span class="s">&#39;Poultry&#39;</span><span class="p">))</span>
<span class="n">int</span> <span class="o">&lt;-</span> <span class="nf">col_integer</span><span class="p">()</span>

<span class="c1"># Edit the col_types argument to import the data correctly: hotdogs_factor</span>
<span class="c1"># Change col_types to the correct vector of collectors; coerce the vector into a list</span>
<span class="n">hotdogs_factor</span> <span class="o">&lt;-</span> <span class="nf">read_tsv</span><span class="p">(</span><span class="s">&#39;hotdogs.txt&#39;</span><span class="p">,</span> <span class="n">col_names</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#39;type&#39;</span><span class="p">,</span> <span class="s">&#39;calories&#39;</span><span class="p">,</span> <span class="s">&#39;sodium&#39;</span><span class="p">),</span> <span class="n">col_types</span> <span class="o">=</span> <span class="nf">list</span><span class="p">(</span><span class="n">fac</span><span class="p">,</span> <span class="n">int</span><span class="p">,</span> <span class="n">int</span><span class="p">))</span>
</code></pre></div>
<p><strong>Skiping columns</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">salaries</span> <span class="o">&lt;-</span> <span class="nf">read_tsv</span><span class="p">(</span><span class="s">&#39;Salaries.txt&#39;</span><span class="p">,</span> <span class="n">col_names</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">,</span> <span class="n">col_types</span> <span class="o">=</span> <span class="nf">cols</span><span class="p">(</span>
  <span class="n">X2</span> <span class="o">=</span> <span class="nf">col_skip</span><span class="p">(),</span>
  <span class="n">X3</span> <span class="o">=</span> <span class="nf">col_skip</span><span class="p">(),</span> 
  <span class="n">X4</span> <span class="o">=</span> <span class="nf">col_skip</span><span class="p">()</span>
<span class="p">))</span>
</code></pre></div>
<p><strong>Reading an ordinary text file</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># vector of character strings. </span>
<span class="c1"># Import as a character vector, one item per line: tweets</span>
<span class="n">tweets</span> <span class="o">&lt;-</span> <span class="nf">read_lines</span><span class="p">(</span><span class="s">&#39;tweets.txt&#39;</span><span class="p">)</span>
<span class="n">tweets</span>

<span class="c1"># returns a length 1 vector of the entire file, with line breaks represented as \n</span>
<span class="c1"># Import as a length 1 vector: tweets_all</span>
<span class="n">tweets_all</span> <span class="o">&lt;-</span> <span class="nf">read_file</span><span class="p">(</span><span class="s">&#39;tweets.txt&#39;</span><span class="p">)</span>
<span class="n">tweets_all</span>
</code></pre></div>
<p><strong>Writing .csv and .tsv files</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Save cwts as chickwts.csv</span>
<span class="nf">write_csv</span><span class="p">(</span><span class="n">cwts</span><span class="p">,</span> <span class="s">&quot;chickwts.csv&quot;</span><span class="p">)</span>

<span class="c1"># Append cwts2 to chickwts.csv</span>
<span class="nf">write_csv</span><span class="p">(</span><span class="n">cwts2</span><span class="p">,</span> <span class="s">&quot;chickwts.csv&quot;</span><span class="p">,</span> <span class="n">append</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span>
</code></pre></div>
<p><strong>Writing .rds files</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Save trees as trees.rds</span>
<span class="nf">write_rds</span><span class="p">(</span><span class="n">trees</span><span class="p">,</span> <span class="s">&#39;trees.rds&#39;</span><span class="p">)</span>

<span class="c1"># Import trees.rds: trees2</span>
<span class="n">trees2</span> <span class="o">&lt;-</span> <span class="nf">read_rds</span><span class="p">(</span><span class="s">&#39;trees.rds&#39;</span><span class="p">)</span>

<span class="c1"># Check whether trees and trees2 are the same</span>
<span class="nf">identical</span><span class="p">(</span><span class="n">trees</span><span class="p">,</span> <span class="n">trees2</span><span class="p">)</span>
</code></pre></div>
<p><strong>Coercing columns to different data types</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Convert all columns to double</span>
<span class="n">trees2</span> <span class="o">&lt;-</span> <span class="nf">type_convert</span><span class="p">(</span><span class="n">trees</span><span class="p">,</span> <span class="n">col_types</span> <span class="o">=</span> <span class="nf">cols</span><span class="p">(</span><span class="n">Girth</span> <span class="o">=</span> <span class="s">&#39;d&#39;</span><span class="p">,</span> <span class="n">Height</span> <span class="o">=</span> <span class="s">&#39;d&#39;</span><span class="p">,</span> <span class="n">Volume</span> <span class="o">=</span> <span class="s">&#39;d&#39;</span><span class="p">))</span>
</code></pre></div>
<p><strong>Coercing character columns into factors</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Parse the title column</span>
<span class="n">salaries</span><span class="o">$</span><span class="n">title</span> <span class="o">&lt;-</span> <span class="nf">parse_factor</span><span class="p">(</span><span class="n">salaries</span><span class="o">$</span><span class="n">title</span><span class="p">,</span> <span class="n">levels</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#39;Prof&#39;</span><span class="p">,</span> <span class="s">&#39;AsstProf&#39;</span><span class="p">,</span> <span class="s">&#39;AssocProf&#39;</span><span class="p">))</span>

<span class="c1"># Parse the gender column</span>
<span class="n">salaries</span><span class="o">$</span><span class="n">gender</span> <span class="o">&lt;-</span> <span class="nf">parse_factor</span><span class="p">(</span><span class="n">salaries</span><span class="o">$</span><span class="n">gender</span><span class="p">,</span> <span class="n">levels</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#39;Male&#39;</span><span class="p">,</span> <span class="s">&#39;Female&#39;</span><span class="p">))</span>
</code></pre></div>
<p><strong>Creating Date objects</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Change type of date column</span>
<span class="n">weather</span><span class="o">$</span><span class="n">date</span> <span class="o">&lt;-</span> <span class="nf">parse_date</span><span class="p">(</span><span class="n">weather</span><span class="o">$</span><span class="n">date</span><span class="p">,</span> <span class="n">format</span> <span class="o">=</span> <span class="s">&#39;%m/%d/%Y&#39;</span><span class="p">)</span>
</code></pre></div>
<p><strong>Parsing number formats</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Parse amount column as a number</span>
<span class="n">debt</span><span class="o">$</span><span class="n">amount</span> <span class="o">&lt;-</span> <span class="nf">parse_number</span><span class="p">(</span><span class="n">debt</span><span class="o">$</span><span class="n">amount</span><span class="p">)</span>
</code></pre></div>
<p><strong>Viewing metadata before importing</strong></p>
<ul>
<li><code>spec_csv</code> for .csv and .tsv files.</li>
<li><code>spec_delim</code> for .txt files (among others).</li>
</ul>
<!-- -->

<div class="highlight"><pre><span></span><code><span class="c1"># Specifications of chickwts</span>
<span class="nf">spec_csv</span><span class="p">(</span><span class="s">&#39;chickwts.csv&#39;</span><span class="p">)</span>
</code></pre></div>
<hr />
<h3 id="from-importing-data-from-the-web_1">(from Importing Data from the Web)<a class="headerlink" href="#from-importing-data-from-the-web_1" title="Permanent link">&para;</a></h3>
<p><strong>Import Flat files from the web</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Import the csv file: pools</span>
<span class="n">url_csv</span> <span class="o">&lt;-</span> <span class="s">&#39;http://s3.amazonaws.com/assets.datacamp.com/course/importing_data_into_r/swimming_pools.csv&#39;</span>
<span class="n">pools</span> <span class="o">&lt;-</span> <span class="nf">read_csv</span><span class="p">(</span><span class="n">url_csv</span><span class="p">)</span>

<span class="n">pools</span>

<span class="c1"># Import the txt file: potatoes</span>
<span class="n">url_delim</span> <span class="o">&lt;-</span> <span class="s">&#39;http://s3.amazonaws.com/assets.datacamp.com/course/importing_data_into_r/potatoes.txt&#39;</span>
<span class="n">potatoes</span> <span class="o">&lt;-</span> <span class="nf">read_tsv</span><span class="p">(</span><span class="n">url_delim</span><span class="p">)</span>

<span class="n">potatoes</span>
</code></pre></div>
<p><strong>Secure importing</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Import the file using read_csv(): pools2</span>
<span class="n">pools2</span> <span class="o">&lt;-</span> <span class="nf">read_csv</span><span class="p">(</span><span class="n">url_csv</span><span class="p">)</span>
</code></pre></div>
<hr />
<h3 id="the-datatable-package">The <code>data.table</code> package<a class="headerlink" href="#the-datatable-package" title="Permanent link">&para;</a></h3>
<ul>
<li><code>fread</code> == <code>read.table</code>.</li>
<li>.txt files only.</li>
<li>Fast.</li>
</ul>
<!-- -->

<div class="highlight"><pre><span></span><code><span class="nf">library</span><span class="p">(</span><span class="n">data.table</span><span class="p">)</span>
</code></pre></div>
<p><strong><code>fread</code> for .txt files</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Import potatoes.txt with fread(): potatoes</span>
<span class="n">potatoes</span> <span class="o">&lt;-</span> <span class="nf">fread</span><span class="p">(</span><span class="s">&#39;potatoes.txt&#39;</span><span class="p">)</span>

<span class="c1"># Print out arranged version of potatoes</span>
<span class="n">potatoes</span><span class="p">[</span><span class="nf">order</span><span class="p">(</span><span class="n">moistness</span><span class="p">),]</span> 

<span class="c1"># Import 20 rows of potatoes.txt with fread(): potatoes_part</span>
<span class="n">potatoes_part</span> <span class="o">&lt;-</span> <span class="nf">fread</span><span class="p">(</span><span class="s">&#39;potatoes.txt&#39;</span><span class="p">,</span> <span class="n">nrows</span> <span class="o">=</span> <span class="m">20</span><span class="p">)</span>
</code></pre></div>
<p><strong><code>fread</code>: more advanced use</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Import columns 6, 7 and 8 of potatoes.txt: potatoes</span>
<span class="n">potatoes</span> <span class="o">&lt;-</span> <span class="nf">fread</span><span class="p">(</span><span class="s">&#39;potatoes.txt&#39;</span><span class="p">,</span> <span class="n">select</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">6</span><span class="o">:</span><span class="m">8</span><span class="p">))</span>

<span class="c1"># Keep only tasty potatoes (flavor &gt; 3): tasty_potatoes</span>
<span class="n">tasty_potatoes</span> <span class="o">&lt;-</span> <span class="nf">subset</span><span class="p">(</span><span class="n">potatoes</span><span class="p">,</span> <span class="n">potatoes</span><span class="o">$</span><span class="n">flavor</span> <span class="o">&gt;</span> <span class="m">3</span><span class="p">)</span>
</code></pre></div>
<h2 id="importing-data-from-excel">Importing Data from Excel<a class="headerlink" href="#importing-data-from-excel" title="Permanent link">&para;</a></h2>
<h3 id="the-readxl-package">The <code>readxl</code> package<a class="headerlink" href="#the-readxl-package" title="Permanent link">&para;</a></h3>
<ul>
<li><code>excel_sheets</code>; list.</li>
<li><code>read_excel</code>; import.</li>
<li>.xlsx files only.</li>
</ul>
<!-- -->

<div class="highlight"><pre><span></span><code><span class="nf">library</span><span class="p">(</span><span class="n">readxl</span><span class="p">)</span>
</code></pre></div>
<p><strong>List the sheets of an Excel file</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Find the names of both spreadsheets: sheets</span>
<span class="c1"># Before, find out what is in the directory with &#39;dir()&#39;</span>
<span class="n">sheets</span> <span class="o">&lt;-</span> <span class="nf">excel_sheets</span><span class="p">(</span><span class="s">&#39;latitude.xlsx&#39;</span><span class="p">)</span>

<span class="n">sheets</span>
</code></pre></div>
<p><strong>Importing an Excel sheet</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Read the first sheet of latitude.xlsx: latitude_1</span>
<span class="n">latitude_1</span> <span class="o">&lt;-</span> <span class="nf">read_excel</span><span class="p">(</span><span class="s">&#39;latitude.xlsx&#39;</span><span class="p">,</span> <span class="n">sheet</span> <span class="o">=</span> <span class="m">1</span><span class="p">)</span>

<span class="c1"># Read the second sheet of latitude.xlsx: latitude_2</span>
<span class="n">latitude_2</span> <span class="o">&lt;-</span> <span class="nf">read_excel</span><span class="p">(</span><span class="s">&#39;latitude.xlsx&#39;</span><span class="p">,</span> <span class="n">sheet</span> <span class="o">=</span> <span class="m">2</span><span class="p">)</span>

<span class="c1"># Put latitude_1 and latitude_2 in a list: lat_list</span>
<span class="n">lat_list</span> <span class="o">&lt;-</span> <span class="nf">list</span><span class="p">(</span><span class="n">latitude_1</span><span class="p">,</span> <span class="n">latitude_2</span><span class="p">)</span>
</code></pre></div>
<p><strong>Reading a workbook</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Read all Excel sheets with lapply(): lat_list</span>
<span class="n">lat_list</span> <span class="o">&lt;-</span> <span class="nf">lapply</span><span class="p">(</span><span class="nf">excel_sheets</span><span class="p">(</span><span class="s">&#39;latitude.xlsx&#39;</span><span class="p">),</span> <span class="n">read_excel</span><span class="p">,</span> <span class="n">path</span> <span class="o">=</span> <span class="s">&#39;latitude.xlsx&#39;</span><span class="p">)</span>
</code></pre></div>
<p><strong>The <code>col_names</code> argument</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Import the the first Excel sheet of latitude_nonames.xlsx (R gives names): latitude_3</span>
<span class="n">latitude_3</span> <span class="o">&lt;-</span> <span class="nf">read_excel</span><span class="p">(</span><span class="s">&#39;latitude_nonames.xlsx&#39;</span><span class="p">,</span> <span class="n">sheet</span> <span class="o">=</span> <span class="m">1</span><span class="p">,</span> <span class="n">col_names</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">)</span>

<span class="c1"># Import the the second Excel sheet of latitude_nonames.xlsx (specify col_names): latitude_4 </span>
<span class="n">latitude_4</span> <span class="o">&lt;-</span> <span class="nf">read_excel</span><span class="p">(</span><span class="s">&#39;latitude_nonames.xlsx&#39;</span><span class="p">,</span> <span class="n">sheet</span> <span class="o">=</span> <span class="m">1</span><span class="p">,</span> <span class="n">col_names</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#39;country&#39;</span><span class="p">,</span> <span class="s">&#39;latitude&#39;</span><span class="p">))</span>
</code></pre></div>
<p><strong>The <code>skip</code> argument</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Import the second sheet of latitude.xlsx, skipping the first 21 rows: latitude_sel</span>
<span class="n">latitude_sel</span> <span class="o">&lt;-</span> <span class="nf">read_excel</span><span class="p">(</span><span class="s">&#39;latitude.xlsx&#39;</span><span class="p">,</span> <span class="n">skip</span> <span class="o">=</span> <span class="m">21</span><span class="p">,</span> <span class="n">col_names</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">)</span>
</code></pre></div>
<hr />
<h3 id="from-importing-data-from-the-web_2">(from Importing Data from the Web)<a class="headerlink" href="#from-importing-data-from-the-web_2" title="Permanent link">&para;</a></h3>
<p><strong>Import Excel files from the web</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Download file behind URL, name it local_latitude.xls</span>
<span class="nf">download.file</span><span class="p">(</span><span class="n">url_xls</span><span class="p">,</span> <span class="s">&#39;local_latitude.xls&#39;</span><span class="p">)</span>

<span class="c1"># Import the local .xls file with readxl: excel_readxl</span>
<span class="n">excel_readxl</span> <span class="o">&lt;-</span> <span class="nf">read_excel</span><span class="p">(</span><span class="s">&#39;local_latitude.xls&#39;</span><span class="p">)</span>
</code></pre></div>
<p><strong>Downloading any file, secure or not</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># https URL to the wine RData file.</span>
<span class="n">url_rdata</span> <span class="o">&lt;-</span> <span class="s">&#39;https://s3.amazonaws.com/assets.datacamp.com/course/importing_data_into_r/wine.RData&#39;</span>

<span class="c1"># Download the wine file to your working directory</span>
<span class="nf">download.file</span><span class="p">(</span><span class="n">url_rdata</span><span class="p">,</span> <span class="s">&#39;wine_local.RData&#39;</span><span class="p">)</span>
</code></pre></div>
<hr />
<h3 id="the-xlconnect-package">The <code>XLConnect</code> package<a class="headerlink" href="#the-xlconnect-package" title="Permanent link">&para;</a></h3>
<ul>
<li><code>loadWorkbook</code>.</li>
<li><code>getSheets</code>.</li>
<li><code>readWorksheet</code>.</li>
<li><code>readWorksheetFromFile</code></li>
<li><code>readNamedRegion</code></li>
<li>
<p><code>readNamedRegionFromFile</code></p>
</li>
<li>
<p>.xls &amp; .xlsx files.</p>
</li>
<li>Like reading a database.</li>
</ul>
<!-- -->

<div class="highlight"><pre><span></span><code><span class="nf">library</span><span class="p">(</span><span class="n">XLConnectJars</span><span class="p">)</span>
<span class="nf">library</span><span class="p">(</span><span class="n">XLConnect</span><span class="p">)</span>
</code></pre></div>
<p><strong>Import a workbook</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Build connection to latitude.xlsx: my_book</span>
<span class="n">my_book</span> <span class="o">&lt;-</span> <span class="nf">loadWorkbook</span><span class="p">(</span><span class="s">&#39;latitude.xlsx&#39;</span><span class="p">)</span>
</code></pre></div>
<p><strong>List and read Excel sheets</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Build connection to latitude.xlsx</span>
<span class="n">my_book</span> <span class="o">&lt;-</span> <span class="nf">loadWorkbook</span><span class="p">(</span><span class="s">&#39;latitude.xlsx&#39;</span><span class="p">)</span>

<span class="c1"># List the sheets in latitude.xlsx</span>
<span class="nf">getSheets</span><span class="p">(</span><span class="n">my_book</span><span class="p">)</span>

<span class="c1"># Import the second sheet in latitude.xlsx</span>
<span class="nf">readWorksheet</span><span class="p">(</span><span class="n">my_book</span><span class="p">,</span> <span class="n">sheet</span> <span class="o">=</span> <span class="m">2</span><span class="p">)</span>

<span class="c1"># Import the second column of the first sheet in latitude.xlsx</span>
<span class="nf">readWorksheet</span><span class="p">(</span><span class="n">my_book</span><span class="p">,</span> <span class="n">sheet</span> <span class="o">=</span> <span class="m">2</span><span class="p">,</span> <span class="n">startCol</span> <span class="o">=</span> <span class="m">2</span><span class="p">)</span>
</code></pre></div>
<p><strong>Add and populate worksheets</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Build connection to latitude.xlsx</span>
<span class="n">my_book</span> <span class="o">&lt;-</span> <span class="nf">loadWorkbook</span><span class="p">(</span><span class="s">&#39;latitude.xlsx&#39;</span><span class="p">)</span>

<span class="c1"># Create data frame: summ</span>
<span class="n">dims1</span> <span class="o">&lt;-</span> <span class="nf">dim</span><span class="p">(</span><span class="nf">readWorksheet</span><span class="p">(</span><span class="n">my_book</span><span class="p">,</span> <span class="m">1</span><span class="p">))</span>
<span class="n">dims2</span> <span class="o">&lt;-</span> <span class="nf">dim</span><span class="p">(</span><span class="nf">readWorksheet</span><span class="p">(</span><span class="n">my_book</span><span class="p">,</span> <span class="m">2</span><span class="p">))</span>
<span class="n">summ</span> <span class="o">&lt;-</span> <span class="nf">data.frame</span><span class="p">(</span><span class="n">sheets</span> <span class="o">=</span> <span class="nf">getSheets</span><span class="p">(</span><span class="n">my_book</span><span class="p">),</span> 
                   <span class="n">nrows</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="n">dims1</span><span class="p">[</span><span class="m">1</span><span class="p">],</span> <span class="n">dims2</span><span class="p">[</span><span class="m">1</span><span class="p">]),</span> 
                   <span class="n">ncols</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="n">dims1</span><span class="p">[</span><span class="m">2</span><span class="p">],</span> <span class="n">dims2</span><span class="p">[</span><span class="m">2</span><span class="p">]))</span>

<span class="c1"># Add a worksheet to my_book, named &#39;data_summary&#39;</span>
<span class="nf">createSheet</span><span class="p">(</span><span class="n">my_book</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;data_summary&#39;</span><span class="p">)</span>

<span class="c1"># Populate &#39;data_summary&#39; with summ data frame</span>
<span class="nf">writeWorksheet</span><span class="p">(</span><span class="n">my_book</span><span class="p">,</span> <span class="n">summ</span><span class="p">,</span> <span class="n">sheet</span> <span class="o">=</span> <span class="s">&#39;data_summary&#39;</span><span class="p">)</span>
<span class="c1"># Save workbook as latitude_with_summ.xlsx</span>

<span class="nf">saveWorkbook</span><span class="p">(</span><span class="n">my_book</span><span class="p">,</span> <span class="s">&#39;latitude_with_summ.xlsx&#39;</span><span class="p">)</span>
</code></pre></div>
<p><strong>One unique function</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Read in the data set and assign to the object</span>
<span class="n">impact</span> <span class="o">&lt;-</span> <span class="nf">readWorksheetFromFile</span><span class="p">(</span><span class="s">&#39;A Hands-on Introduction to Statistics with R.xls&#39;</span><span class="p">,</span> <span class="n">sheet</span> <span class="o">=</span> <span class="s">&#39;impact&#39;</span><span class="p">,</span> <span class="n">header</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">,</span> <span class="n">startCol</span> <span class="o">=</span> <span class="m">1</span><span class="p">,</span> <span class="n">startRow</span> <span class="o">=</span> <span class="m">1</span><span class="p">)</span>

<span class="c1"># more arguments</span>
<span class="c1"># endCol = 1</span>
<span class="c1"># endRow = 1</span>
<span class="c1"># autofitRow = </span>
<span class="c1"># autofitCol = </span>
<span class="c1"># region =</span>
<span class="c1"># rownames =</span>
<span class="c1"># colTypes =</span>
<span class="c1"># forceConversion =</span>
<span class="c1"># dateTimeFormat =</span>
<span class="c1"># check.names =</span>
<span class="c1"># useCachedValues =</span>
<span class="c1"># keep =</span>
<span class="c1"># drop =</span>
<span class="c1"># simplify =</span>
<span class="c1"># readStrategy =</span>
</code></pre></div>
<h2 id="importing-data-from-other-statistical-software">Importing Data from Other Statistical Software<a class="headerlink" href="#importing-data-from-other-statistical-software" title="Permanent link">&para;</a></h2>
<h3 id="the-haven-package">The <code>haven</code> package<a class="headerlink" href="#the-haven-package" title="Permanent link">&para;</a></h3>
<ul>
<li><code>read_sas</code>; sas7bdat &amp; sas7bcat files.</li>
<li><code>read_stata</code>; version; dta files.</li>
<li><code>read_dta</code>; idem.</li>
<li><code>read_spss</code>; sav &amp; por files (and see below).</li>
<li><code>read_por</code>.</li>
<li><code>read_sav</code>.</li>
<li>Simple, few arguments.</li>
<li>Create a d.f.</li>
</ul>
<!-- -->

<div class="highlight"><pre><span></span><code><span class="nf">library</span><span class="p">(</span><span class="n">haven</span><span class="p">)</span>
</code></pre></div>
<p><strong>Import SAS data with haven</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Import sales.sas7bdat: sales</span>
<span class="n">sales</span> <span class="o">&lt;-</span> <span class="nf">read_sas</span><span class="p">(</span><span class="s">&#39;sales.sas7bdat&#39;</span><span class="p">)</span>
</code></pre></div>
<p><strong>Import STATA data with haven</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Import the data from the URL: sugar</span>
<span class="n">sugar</span> <span class="o">&lt;-</span> <span class="nf">read_dta</span><span class="p">(</span><span class="s">&#39;http://assets.datacamp.com/course/importing_data_into_r/trade.dta&#39;</span><span class="p">)</span>
</code></pre></div>
<p><strong>Import SPSS data with haven</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Specify the file path using file.path(): path</span>
<span class="n">path</span> <span class="o">&lt;-</span> <span class="nf">file.path</span><span class="p">(</span><span class="s">&#39;datasets&#39;</span><span class="p">,</span> <span class="s">&#39;person.sav&#39;</span><span class="p">)</span>

<span class="c1"># Import person.sav, which is in the datasets folder: traits</span>
<span class="n">traits</span> <span class="o">&lt;-</span> <span class="nf">read_sav</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
</code></pre></div>
<p><strong>Factorize, round two</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Import SPSS data from the URL: work</span>
<span class="n">work</span> <span class="o">&lt;-</span> <span class="nf">read_sav</span><span class="p">(</span><span class="s">&#39;http://assets.datacamp.com/course/importing_data_into_r/employee.sav&#39;</span><span class="p">)</span>
</code></pre></div>
<h3 id="theforeign-package">The<code>foreign</code> package<a class="headerlink" href="#theforeign-package" title="Permanent link">&para;</a></h3>
<ul>
<li>Cannot import SAS, see the <code>sas7bdat</code> package.</li>
<li><code>read.dta</code>; dta files.</li>
<li><code>read.spss</code>; sav &amp; por files.</li>
<li>Comprehensive.</li>
</ul>
<!-- -->

<div class="highlight"><pre><span></span><code><span class="nf">library</span><span class="p">(</span><span class="n">foreign</span><span class="p">)</span>
</code></pre></div>
<p><strong>Import STATA data with foreign (1)</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Import florida.dta and name the resulting data frame florida</span>
<span class="n">florida</span> <span class="o">&lt;-</span> <span class="nf">read.dta</span><span class="p">(</span><span class="s">&#39;florida.dta&#39;</span><span class="p">)</span>
</code></pre></div>
<p><strong>Import STATA data with foreign (2)</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Specify the file path using file.path(): path</span>
<span class="n">path</span> <span class="o">&lt;-</span> <span class="nf">file.path</span><span class="p">(</span><span class="s">&#39;worldbank&#39;</span><span class="p">,</span> <span class="s">&#39;edequality.dta&#39;</span><span class="p">)</span>

<span class="c1"># Create and print structure of edu_equal_1</span>
<span class="n">edu_equal_1</span> <span class="o">&lt;-</span> <span class="nf">read.dta</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>

<span class="c1"># Create and print structure of edu_equal_2</span>
<span class="n">edu_equal_2</span> <span class="o">&lt;-</span> <span class="nf">read.dta</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">convert.factors</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">)</span>

<span class="c1"># Create and print structure of edu_equal_3</span>
<span class="n">edu_equal_3</span> <span class="o">&lt;-</span> <span class="nf">read.dta</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">convert.underscore</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span> 
</code></pre></div>
<p><strong>Import SPSS data with foreign (1)</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Import international.sav as a data frame: demo</span>
<span class="n">demo</span> <span class="o">&lt;-</span> <span class="nf">read.spss</span><span class="p">(</span><span class="s">&#39;international.sav&#39;</span><span class="p">,</span> <span class="n">to.data.frame</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span>
</code></pre></div>
<p><strong>Import SPSS data with foreign (2)</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Import international.sav as demo_1</span>
<span class="n">demo_1</span> <span class="o">&lt;-</span> <span class="nf">read.spss</span><span class="p">(</span><span class="s">&#39;international.sav&#39;</span><span class="p">,</span> <span class="n">to.data.frame</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span>

<span class="c1"># Import international.sav as demo_2</span>
<span class="n">demo_2</span> <span class="o">&lt;-</span> <span class="nf">read.spss</span><span class="p">(</span><span class="s">&#39;international.sav&#39;</span><span class="p">,</span> <span class="n">to.data.frame</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">,</span> <span class="n">use.value.labels</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">)</span>
</code></pre></div>
<h2 id="importing-data-from-relational-data">Importing Data from Relational Data<a class="headerlink" href="#importing-data-from-relational-data" title="Permanent link">&para;</a></h2>
<h3 id="the-dbi-package">The <code>DBI</code> package<a class="headerlink" href="#the-dbi-package" title="Permanent link">&para;</a></h3>
<ul>
<li><code>dbConnect</code>.</li>
<li><code>dbReadTable</code>.</li>
<li><code>dbGetQuery</code>.</li>
<li><code>dbFetch</code>.</li>
<li><code>dbDisconnect</code>.</li>
</ul>
<!-- -->

<div class="highlight"><pre><span></span><code><span class="nf">library</span><span class="p">(</span><span class="n">DBI</span><span class="p">)</span>
</code></pre></div>
<p><strong>Step 1: Establish a connection</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Connect to the MySQL database: con</span>
<span class="n">con</span> <span class="o">&lt;-</span> <span class="nf">dbConnect</span><span class="p">(</span><span class="n">RMySQL</span><span class="o">::</span><span class="nf">MySQL</span><span class="p">(),</span> <span class="n">dbname</span> <span class="o">=</span> <span class="s">&#39;tweater&#39;</span><span class="p">,</span> <span class="n">host</span> <span class="o">=</span> <span class="s">&#39;courses.csrrinzqubik.us-east-1.rds.amazonaws.com&#39;</span><span class="p">,</span> <span class="n">port</span> <span class="o">=</span> <span class="m">3306</span><span class="p">,</span> <span class="n">user</span> <span class="o">=</span> <span class="s">&#39;student&#39;</span><span class="p">,</span> <span class="n">password</span> <span class="o">=</span> <span class="s">&#39;datacamp&#39;</span><span class="p">)</span> 

<span class="n">con</span>
</code></pre></div>
<p><strong>Step 2: List the database tables</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Connect to the MySQL database: con</span>
<span class="n">con</span> <span class="o">&lt;-</span> <span class="nf">dbConnect</span><span class="p">(</span><span class="n">RMySQL</span><span class="o">::</span><span class="nf">MySQL</span><span class="p">(),</span> 
                 <span class="n">dbname</span> <span class="o">=</span> <span class="s">&#39;tweater&#39;</span><span class="p">,</span> 
                 <span class="n">host</span> <span class="o">=</span> <span class="s">&#39;courses.csrrinzqubik.us-east-1.rds.amazonaws.com&#39;</span><span class="p">,</span> 
                 <span class="n">port</span> <span class="o">=</span> <span class="m">3306</span><span class="p">,</span>
                 <span class="n">user</span> <span class="o">=</span> <span class="s">&#39;student&#39;</span><span class="p">,</span>
                 <span class="n">password</span> <span class="o">=</span> <span class="s">&#39;datacamp&#39;</span><span class="p">)</span>

<span class="c1"># Build a vector of table names: tables</span>
<span class="n">tables</span> <span class="o">&lt;-</span> <span class="nf">dbListTables</span><span class="p">(</span><span class="n">con</span><span class="p">)</span>

<span class="c1"># Display structure of tables</span>
<span class="nf">str</span><span class="p">(</span><span class="n">tables</span><span class="p">)</span>
</code></pre></div>
<p><strong>Step 3: Import data from a table</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Connect to the MySQL database: con</span>
<span class="n">con</span> <span class="o">&lt;-</span> <span class="nf">dbConnect</span><span class="p">(</span><span class="n">RMySQL</span><span class="o">::</span><span class="nf">MySQL</span><span class="p">(),</span> 
                 <span class="n">dbname</span> <span class="o">=</span> <span class="s">&#39;tweater&#39;</span><span class="p">,</span> 
                 <span class="n">host</span> <span class="o">=</span> <span class="s">&#39;courses.csrrinzqubik.us-east-1.rds.amazonaws.com&#39;</span><span class="p">,</span> 
                 <span class="n">port</span> <span class="o">=</span> <span class="m">3306</span><span class="p">,</span>
                 <span class="n">user</span> <span class="o">=</span> <span class="s">&#39;student&#39;</span><span class="p">,</span>
                 <span class="n">password</span> <span class="o">=</span> <span class="s">&#39;datacamp&#39;</span><span class="p">)</span>

<span class="c1"># Import the users table from tweater: users</span>
<span class="n">users</span> <span class="o">&lt;-</span> <span class="nf">dbReadTable</span><span class="p">(</span><span class="n">con</span><span class="p">,</span> <span class="s">&#39;users&#39;</span><span class="p">)</span>

<span class="n">users</span>

<span class="c1"># Import and print the tweats table from tweater: tweats</span>
<span class="n">tweats</span> <span class="o">&lt;-</span> <span class="nf">dbReadTable</span><span class="p">(</span><span class="n">con</span><span class="p">,</span> <span class="s">&#39;tweats&#39;</span><span class="p">)</span>

<span class="n">tweats</span>

<span class="c1"># Import and print the comments table from tweater: comments</span>
<span class="n">comments</span> <span class="o">&lt;-</span> <span class="nf">dbReadTable</span><span class="p">(</span><span class="n">con</span><span class="p">,</span> <span class="s">&#39;comments&#39;</span><span class="p">)</span>

<span class="n">comments</span>
</code></pre></div>
<p><strong>Your very first SQL query</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">con</span> <span class="o">&lt;-</span> <span class="nf">dbConnect</span><span class="p">(</span><span class="n">RMySQL</span><span class="o">::</span><span class="nf">MySQL</span><span class="p">(),</span> 
                 <span class="n">dbname</span> <span class="o">=</span> <span class="s">&#39;tweater&#39;</span><span class="p">,</span> 
                 <span class="n">host</span> <span class="o">=</span> <span class="s">&#39;courses.csrrinzqubik.us-east-1.rds.amazonaws.com&#39;</span><span class="p">,</span> 
                 <span class="n">port</span> <span class="o">=</span> <span class="m">3306</span><span class="p">,</span>
                 <span class="n">user</span> <span class="o">=</span> <span class="s">&#39;student&#39;</span><span class="p">,</span>
                 <span class="n">password</span> <span class="o">=</span> <span class="s">&#39;datacamp&#39;</span><span class="p">)</span>

<span class="c1"># Import post column of tweats where date is higher than &#39;2015-09-21&#39;: latest</span>
<span class="n">latest</span> <span class="o">&lt;-</span> <span class="nf">dbGetQuery</span><span class="p">(</span><span class="n">con</span><span class="p">,</span> <span class="s">&#39;SELECT post FROM tweats WHERE date &gt; \&#39;2015-09-21\&#39;&#39;</span><span class="p">)</span>

<span class="n">latest</span>

<span class="c1"># Import tweat_id column of comments where user_id is 1: elisabeth</span>
<span class="n">elisabeth</span> <span class="o">&lt;-</span> <span class="nf">dbGetQuery</span><span class="p">(</span><span class="n">con</span><span class="p">,</span> <span class="s">&#39;SELECT tweat_id FROM comments WHERE user_id = 1&#39;</span><span class="p">)</span>

<span class="n">elisabeth</span>
</code></pre></div>
<p><strong>More advanced SQL queries</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Connect to the database</span>
<span class="n">con</span> <span class="o">&lt;-</span> <span class="nf">dbConnect</span><span class="p">(</span><span class="n">RMySQL</span><span class="o">::</span><span class="nf">MySQL</span><span class="p">(),</span>
                 <span class="n">dbname</span> <span class="o">=</span> <span class="s">&#39;tweater&#39;</span><span class="p">,</span> 
                 <span class="n">host</span> <span class="o">=</span> <span class="s">&#39;courses.csrrinzqubik.us-east-1.rds.amazonaws.com&#39;</span><span class="p">,</span> 
                 <span class="n">port</span> <span class="o">=</span> <span class="m">3306</span><span class="p">,</span>
                 <span class="n">user</span> <span class="o">=</span> <span class="s">&#39;student&#39;</span><span class="p">,</span>
                 <span class="n">password</span> <span class="o">=</span> <span class="s">&#39;datacamp&#39;</span><span class="p">)</span>

<span class="c1"># Create data frame specific</span>
<span class="n">specific</span> <span class="o">&lt;-</span> <span class="nf">dbGetQuery</span><span class="p">(</span><span class="n">con</span><span class="p">,</span> <span class="s">&#39;SELECT message FROM comments WHERE tweat_id = 77 AND user_id &gt; 4&#39;</span><span class="p">)</span>

<span class="n">specific</span>

<span class="c1"># Create data frame short</span>
<span class="n">short</span> <span class="o">&lt;-</span> <span class="nf">dbGetQuery</span><span class="p">(</span><span class="n">con</span><span class="p">,</span> <span class="s">&#39;SELECT id, name FROM users WHERE CHAR_LENGTH(name) &lt; 5&#39;</span><span class="p">)</span>

<span class="n">short</span>
</code></pre></div>
<p><strong>Send - Fetch - Clear</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Connect to the database</span>
<span class="n">con</span> <span class="o">&lt;-</span> <span class="nf">dbConnect</span><span class="p">(</span><span class="n">RMySQL</span><span class="o">::</span><span class="nf">MySQL</span><span class="p">(),</span> 
                 <span class="n">dbname</span> <span class="o">=</span> <span class="s">&#39;tweater&#39;</span><span class="p">,</span> 
                 <span class="n">host</span> <span class="o">=</span> <span class="s">&#39;courses.csrrinzqubik.us-east-1.rds.amazonaws.com&#39;</span><span class="p">,</span> 
                 <span class="n">port</span> <span class="o">=</span> <span class="m">3306</span><span class="p">,</span>
                 <span class="n">user</span> <span class="o">=</span> <span class="s">&#39;student&#39;</span><span class="p">,</span>
                 <span class="n">password</span> <span class="o">=</span> <span class="s">&#39;datacamp&#39;</span><span class="p">)</span>

<span class="c1"># Send query to the database with dbSendQuery(): res</span>
<span class="n">res</span> <span class="o">&lt;-</span> <span class="nf">dbSendQuery</span><span class="p">(</span><span class="n">con</span><span class="p">,</span> <span class="s">&#39;SELECT * FROM comments WHERE user_id &gt; 4&#39;</span><span class="p">)</span>

<span class="c1"># Display information contained in res</span>
<span class="nf">dbGetInfo</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>

<span class="c1"># Use dbFetch() twice</span>
<span class="nf">while </span><span class="p">(</span><span class="o">!</span><span class="nf">dbHasCompleted</span><span class="p">(</span><span class="n">res</span><span class="p">))</span> <span class="p">{</span>
    <span class="n">chunk</span> <span class="o">&lt;-</span> <span class="nf">dbFetch</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="m">2</span><span class="p">)</span>
    <span class="n">chunk2</span> <span class="o">&lt;-</span> <span class="nf">dbFetch</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">chunk</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1"># Clear res</span>
<span class="nf">dbClearResult</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
</code></pre></div>
<p><strong>Be polite and &hellip;</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Database specifics</span>
<span class="n">dbname</span> <span class="o">&lt;-</span> <span class="s">&#39;tweater&#39;</span>
<span class="n">host</span> <span class="o">&lt;-</span> <span class="s">&#39;courses.csrrinzqubik.us-east-1.rds.amazonaws.com&#39;</span>
<span class="n">port</span> <span class="o">&lt;-</span> <span class="m">3306</span>
<span class="n">user</span> <span class="o">&lt;-</span> <span class="s">&#39;student&#39;</span>
<span class="n">password</span> <span class="o">&lt;-</span> <span class="s">&#39;datacamp&#39;</span>

<span class="c1"># Connect to the database</span>
<span class="n">con</span> <span class="o">&lt;-</span> <span class="nf">dbConnect</span><span class="p">(</span><span class="n">RMySQL</span><span class="o">::</span><span class="nf">MySQL</span><span class="p">(),</span> <span class="n">dbname</span> <span class="o">=</span> <span class="s">&#39;tweater&#39;</span><span class="p">,</span> <span class="n">host</span> <span class="o">=</span> <span class="s">&#39;courses.csrrinzqubik.us-east-1.rds.amazonaws.com&#39;</span><span class="p">,</span> <span class="n">port</span> <span class="o">=</span> <span class="m">3306</span> <span class="p">,</span> <span class="n">user</span> <span class="o">=</span> <span class="s">&#39;student&#39;</span><span class="p">,</span> <span class="n">password</span> <span class="o">=</span> <span class="s">&#39;datacamp&#39;</span><span class="p">)</span>

<span class="c1"># Create the data frame  long_tweats</span>
<span class="n">long_tweats</span> <span class="o">&lt;-</span> <span class="nf">dbGetQuery</span><span class="p">(</span><span class="n">con</span><span class="p">,</span> <span class="s">&#39;SELECT post, date FROM tweats WHERE CHAR_LENGTH(post) &gt; 40&#39;</span><span class="p">)</span>

<span class="c1"># Print long_tweats</span>
<span class="nf">print</span><span class="p">(</span><span class="n">long_tweats</span><span class="p">)</span>

<span class="c1"># Disconnect from the database</span>
<span class="nf">dbDisconnect</span><span class="p">(</span><span class="n">con</span><span class="p">)</span>
</code></pre></div>
<p><strong>Other general packages</strong></p>
<p>The <code>RODBC</code> package provides access to databases (including Microsoft<br />
Access and Microsoft SQL Server) through an ODBC interface.</p>
<p>The <code>RJDBC</code> package provides access to databases through a JDBC<br />
interface.</p>
<p><strong>Specialized packages</strong></p>
<ul>
<li><code>ROracle</code> provides an interface for Oracle.</li>
<li><code>RMySQL</code> provides access to MySQL.</li>
<li><code>RpostgreSQL</code> to PostgreSQL.</li>
<li><code>RSQLite</code> to SQLite.</li>
<li>And there are manu more packages for NoSQL databases such<br />
    as MongoDB.</li>
</ul>
<h2 id="importing-data-from-relational-data-more">Importing Data from Relational Data &ndash; More<a class="headerlink" href="#importing-data-from-relational-data-more" title="Permanent link">&para;</a></h2>
<h3 id="dbi"><code>DBI</code><a class="headerlink" href="#dbi" title="Permanent link">&para;</a></h3>
<p>First, change the working directory with <code>setwd</code>. Install the <code>DBI</code><br />
library.</p>
<p><strong>Connect and read preliminary results</strong></p>
<div class="highlight"><pre><span></span><code><span class="nf">library</span><span class="p">(</span><span class="n">DBI</span><span class="p">)</span>
<span class="nf">library</span><span class="p">(</span><span class="n">sqliter</span><span class="p">)</span>

<span class="c1"># Assign the sqlite database and full path to a variable</span>
<span class="n">dbfile</span> <span class="o">=</span> <span class="s">&#39;chinook.db&#39;</span>

<span class="c1"># Instantiate the dbDriver to a convenient object</span>
<span class="n">sqlite</span> <span class="o">=</span> <span class="nf">dbDriver</span><span class="p">(</span><span class="s">&#39;SQLite&#39;</span><span class="p">)</span>

<span class="c1"># Assign the connection string to a connection object</span>
<span class="n">sqlitedb</span> <span class="o">&lt;-</span> <span class="nf">dbConnect</span><span class="p">(</span><span class="n">RSQLite</span><span class="o">::</span><span class="nf">SQLite</span><span class="p">(),</span> 
                 <span class="n">dbname</span> <span class="o">=</span> <span class="n">dbfile</span><span class="p">,</span> 
                 <span class="n">host</span> <span class="o">=</span> <span class="s">&#39;&#39;</span><span class="p">,</span> 
                 <span class="n">port</span> <span class="o">=</span> <span class="m">3306</span><span class="p">,</span>
                 <span class="n">user</span> <span class="o">=</span> <span class="s">&#39;&#39;</span><span class="p">,</span>
                 <span class="n">password</span> <span class="o">=</span> <span class="s">&#39;&#39;</span><span class="p">)</span>

<span class="c1"># Request a list of tables using the connection object</span>
<span class="nf">dbListTables</span><span class="p">(</span><span class="n">sqlitedb</span><span class="p">)</span>
</code></pre></div>
<p><strong>Extract some data</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Assign the results of a SQL query to an object</span>
<span class="n">results</span> <span class="o">=</span> <span class="nf">dbSendQuery</span><span class="p">(</span><span class="n">sqlitedb</span><span class="p">,</span> <span class="s">&quot;SELECT * FROM albums&quot;</span><span class="p">)</span>

<span class="c1"># Return results from a custom object to a data.frame</span>
<span class="n">data</span> <span class="o">=</span> <span class="nf">fetch</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>

<span class="c1"># Print data frame to console</span>
<span class="nf">head</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1"># Clear the results and close the connection</span>
<span class="nf">dbClearResult</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>

<span class="c1"># Disconnect from the database</span>
<span class="nf">dbDisconnect</span><span class="p">(</span><span class="n">sqlitedb</span><span class="p">)</span>
</code></pre></div>
<h3 id="rsqlite"><code>RSQLite</code><a class="headerlink" href="#rsqlite" title="Permanent link">&para;</a></h3>
<p>First, change the working directory with <code>setwd</code>. Install the <code>RSQLite</code><br />
library.</p>
<p><strong>Connect and read preliminary results</strong></p>
<div class="highlight"><pre><span></span><code><span class="nf">library</span><span class="p">(</span><span class="n">RSQLite</span><span class="p">)</span>
<span class="nf">library</span><span class="p">(</span><span class="n">sqliter</span><span class="p">)</span>

<span class="c1"># Assign the sqlite database and full path to a variable</span>
<span class="n">dbfile</span> <span class="o">=</span> <span class="s">&#39;chinook.db&#39;</span>

<span class="c1"># Instantiate the dbDriver to a convenient object</span>
<span class="n">sqlite</span> <span class="o">=</span> <span class="nf">dbDriver</span><span class="p">(</span><span class="s">&#39;SQLite&#39;</span><span class="p">)</span>

<span class="c1"># Assign the connection string to a connection object</span>
<span class="n">mysqldb</span> <span class="o">=</span> <span class="nf">dbConnect</span><span class="p">(</span><span class="n">sqlite</span><span class="p">,</span> <span class="n">dbfile</span><span class="p">)</span>

<span class="c1"># Request a list of tables using the connection object</span>
<span class="nf">dbListTables</span><span class="p">(</span><span class="n">sqlitedb</span><span class="p">)</span>
</code></pre></div>
<p><strong>Extract some data</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Assign the results of a SQL query to an object</span>
<span class="n">results</span> <span class="o">=</span> <span class="nf">dbSendQuery</span><span class="p">(</span><span class="n">sqlitedb</span><span class="p">,</span> <span class="s">&quot;SELECT * FROM albums&quot;</span><span class="p">)</span>

<span class="c1"># Check the object</span>
<span class="n">results</span>
<span class="nf">dbGetInfo</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>

<span class="c1"># Return results from a custom object to a data.frame</span>
<span class="n">data</span> <span class="o">=</span> <span class="nf">fetch</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>

<span class="c1"># Print data frame to console</span>
<span class="nf">head</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1"># Clear the results and close the connection</span>
<span class="nf">dbClearResult</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>

<span class="c1"># Disconnect from the database</span>
<span class="nf">dbDisconnect</span><span class="p">(</span><span class="n">sqlitedb</span><span class="p">)</span>
</code></pre></div>
<h3 id="mysql-with-dbi-or-rmysql">MySQL with <code>DBI</code> or <code>RMySQL</code><a class="headerlink" href="#mysql-with-dbi-or-rmysql" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nf">library</span><span class="p">(</span><span class="n">DBI</span><span class="p">)</span>

<span class="c1"># Assign the sqlite database and full path to a variable</span>
<span class="n">dbfile</span> <span class="o">=</span> <span class="s">&#39;chinook.db&#39;</span>

<span class="c1"># Instantiate the dbDriver to a convenient object</span>
<span class="n">mysql</span> <span class="o">=</span> <span class="nf">dbDriver</span><span class="p">(</span><span class="s">&#39;MySQL&#39;</span><span class="p">)</span>

<span class="c1"># Assign the connection string to a connection object</span>
<span class="n">mysqldb</span> <span class="o">&lt;-</span> <span class="nf">dbConnect</span><span class="p">(</span><span class="n">RMySQL</span><span class="o">::</span><span class="nf">MySQL</span><span class="p">(),</span> 
                 <span class="n">dbname</span> <span class="o">=</span> <span class="n">dbfile</span><span class="p">,</span> 
                 <span class="n">host</span> <span class="o">=</span> <span class="s">&#39;&#39;</span><span class="p">,</span> 
                 <span class="n">port</span> <span class="o">=</span> <span class="m">3306</span><span class="p">,</span>
                 <span class="n">user</span> <span class="o">=</span> <span class="s">&#39;&#39;</span><span class="p">,</span>
                 <span class="n">password</span> <span class="o">=</span> <span class="s">&#39;&#39;</span><span class="p">)</span>

<span class="c1"># Request a list of tables using the connection object</span>
<span class="nf">dbListTables</span><span class="p">(</span><span class="n">mysqldb</span><span class="p">)</span>

<span class="c1"># Request a list of tables using the connection object</span>
<span class="nf">dbListTables</span><span class="p">(</span><span class="n">mysqldb</span><span class="p">)</span>

<span class="c1"># Disconnect from the database</span>
<span class="nf">dbDisconnect</span><span class="p">(</span><span class="n">mysqldb</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="nf">library</span><span class="p">(</span><span class="n">RMySQL</span><span class="p">)</span>

<span class="c1"># Assign the sqlite database and full path to a variable</span>
<span class="n">dbfile</span> <span class="o">=</span> <span class="s">&#39;chinook.db&#39;</span>

<span class="c1"># Instantiate the dbDriver to a convenient object</span>
<span class="n">mysql</span> <span class="o">=</span> <span class="nf">dbDriver</span><span class="p">(</span><span class="s">&#39;MySQL&#39;</span><span class="p">)</span>

<span class="c1"># Assign the connection string to a connection object</span>
<span class="n">mysqldb</span> <span class="o">=</span> <span class="nf">dbConnect</span><span class="p">(</span><span class="n">mysql</span><span class="p">,</span> <span class="n">dbfile</span><span class="p">)</span>

<span class="c1"># Request a list of tables using the connection object</span>
<span class="nf">dbListTables</span><span class="p">(</span><span class="n">mysqldb</span><span class="p">)</span>

<span class="c1"># Request a list of tables using the connection object</span>
<span class="nf">dbListTables</span><span class="p">(</span><span class="n">mysqldb</span><span class="p">)</span>

<span class="c1"># Disconnect from the database</span>
<span class="nf">dbDisconnect</span><span class="p">(</span><span class="n">mysqldb</span><span class="p">)</span>
</code></pre></div>
<h3 id="posgresql-with-dbi-or-rpostgresql">PosgreSQL with <code>DBI</code> or <code>RPostgreSQL</code><a class="headerlink" href="#posgresql-with-dbi-or-rpostgresql" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nf">library</span><span class="p">(</span><span class="n">DBI</span><span class="p">)</span>

<span class="c1"># Assign the sqlite database and full path to a variable</span>
<span class="n">dbfile</span> <span class="o">=</span> <span class="s">&#39;chinook.db&#39;</span>

<span class="c1"># Instantiate the dbDriver to a convenient object</span>
<span class="n">postgresql</span> <span class="o">=</span> <span class="nf">dbDriver</span><span class="p">(</span><span class="s">&#39;PostgreSQL&#39;</span><span class="p">)</span>

<span class="c1"># Assign the connection string to a connection object</span>
<span class="n">postgresqldb</span> <span class="o">&lt;-</span> <span class="nf">dbConnect</span><span class="p">(</span><span class="n">RPostgreSQL</span><span class="o">::</span><span class="nf">PostgreSQL</span><span class="p">(),</span> 
                 <span class="n">dbname</span> <span class="o">=</span> <span class="n">dbfile</span><span class="p">,</span> 
                 <span class="n">host</span> <span class="o">=</span> <span class="s">&#39;&#39;</span><span class="p">,</span> 
                 <span class="n">port</span> <span class="o">=</span> <span class="m">3306</span><span class="p">,</span>
                 <span class="n">user</span> <span class="o">=</span> <span class="s">&#39;&#39;</span><span class="p">,</span>
                 <span class="n">password</span> <span class="o">=</span> <span class="s">&#39;&#39;</span><span class="p">)</span>

<span class="c1"># Request a list of tables using the connection object</span>
<span class="nf">dbListTables</span><span class="p">(</span><span class="n">postgresqldb</span><span class="p">)</span>

<span class="c1"># Request a list of tables using the connection object</span>
<span class="nf">dbListTables</span><span class="p">(</span><span class="n">postgresqldb</span><span class="p">)</span>

<span class="c1"># Disconnect from the database</span>
<span class="nf">dbDisconnect</span><span class="p">(</span><span class="n">postgresqldb</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="nf">library</span><span class="p">(</span><span class="n">RPostgreSQL</span><span class="p">)</span>

<span class="c1"># Assign the sqlite database and full path to a variable</span>
<span class="n">dbfile</span> <span class="o">=</span> <span class="s">&#39;chinook.db&#39;</span>

<span class="c1"># Instantiate the dbDriver to a convenient object</span>
<span class="n">postgresql</span> <span class="o">=</span> <span class="nf">dbDriver</span><span class="p">(</span><span class="s">&#39;PostgreSQL&#39;</span><span class="p">)</span>

<span class="c1"># Assign the connection string to a connection object</span>
<span class="n">postgresqldb</span> <span class="o">=</span> <span class="nf">dbConnect</span><span class="p">(</span><span class="n">postgresql</span><span class="p">,</span> <span class="n">dbfile</span><span class="p">)</span>

<span class="c1"># Request a list of tables using the connection object</span>
<span class="nf">dbListTables</span><span class="p">(</span><span class="n">postgresqldb</span><span class="p">)</span>

<span class="c1"># Request a list of tables using the connection object</span>
<span class="nf">dbListTables</span><span class="p">(</span><span class="n">postgresqldb</span><span class="p">)</span>

<span class="c1"># Disconnect from the database</span>
<span class="nf">dbDisconnect</span><span class="p">(</span><span class="n">postgresqldb</span><span class="p">)</span>
</code></pre></div>
<h2 id="importing-data-from-the-web">Importing Data from the Web<a class="headerlink" href="#importing-data-from-the-web" title="Permanent link">&para;</a></h2>
<p>The other package above can download files from the web. The next<br />
packages are web-oriented.</p>
<h3 id="the-httr-package">The <code>httr</code> package<a class="headerlink" href="#the-httr-package" title="Permanent link">&para;</a></h3>
<ul>
<li><code>GET</code> pages and files from the web.</li>
<li>Concise.</li>
<li>Parse JSON files.</li>
<li>Communicate with APIs.</li>
</ul>
<!-- -->

<div class="highlight"><pre><span></span><code><span class="nf">library</span><span class="p">(</span><span class="n">httr</span><span class="p">)</span>
</code></pre></div>
<p><strong>HTTP? <code>httr</code>!</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Get the url, save response to resp</span>
<span class="n">url</span> <span class="o">&lt;-</span> <span class="s">&#39;http://docs.datacamp.com/teach/&#39;</span>
<span class="n">resp</span> <span class="o">&lt;-</span> <span class="nf">GET</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>

<span class="n">resp</span>

<span class="c1"># Get the raw content of resp</span>
<span class="n">raw_content</span> <span class="o">&lt;-</span> <span class="nf">content</span><span class="p">(</span><span class="n">resp</span><span class="p">,</span> <span class="n">as</span> <span class="o">=</span> <span class="s">&#39;raw&#39;</span><span class="p">)</span>

<span class="c1"># Print the head of content</span>
<span class="nf">head</span><span class="p">(</span><span class="n">raw_content</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1"># Get the url</span>
<span class="n">url</span> <span class="o">&lt;-</span> <span class="s">&#39;https://www.omdbapi.com/?t=Annie+Hall&amp;y=&amp;plot=short&amp;r=json&#39;</span>

<span class="n">resp</span> <span class="o">&lt;-</span> <span class="nf">GET</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>

<span class="c1"># Print resp</span>
<span class="n">resp</span>

<span class="c1"># Print content of resp as text</span>
<span class="nf">content</span><span class="p">(</span><span class="n">resp</span><span class="p">,</span> <span class="n">as</span> <span class="o">=</span> <span class="s">&#39;text&#39;</span><span class="p">)</span>

<span class="c1"># Print content of resp</span>
<span class="nf">content</span><span class="p">(</span><span class="n">resp</span><span class="p">)</span>
</code></pre></div>
<h3 id="the-jsonlite-package">The <code>jsonlite</code> package<a class="headerlink" href="#the-jsonlite-package" title="Permanent link">&para;</a></h3>
<ul>
<li>Robust.</li>
<li>Improve the imported data.</li>
<li><code>fromJSON</code>.</li>
<li>from an R object to <code>toJSON</code></li>
<li><code>prettify</code>.</li>
<li><code>minify</code>.</li>
</ul>
<!-- -->

<div class="highlight"><pre><span></span><code><span class="nf">library</span><span class="p">(</span><span class="n">jsonlite</span><span class="p">)</span>
</code></pre></div>
<p><strong>From <code>JSON</code> to R</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Convert wine_json to a list: wine</span>
<span class="n">wine_json</span> <span class="o">&lt;-</span> <span class="s">&#39;{&#39;</span><span class="n">name</span><span class="s">&#39;:&#39;</span><span class="n">Chateau</span> <span class="n">Migraine</span><span class="s">&#39;, &#39;</span><span class="n">year</span><span class="s">&#39;:1997, &#39;</span><span class="n">alcohol_pct</span><span class="s">&#39;:12.4, &#39;</span><span class="n">color</span><span class="s">&#39;:&#39;</span><span class="n">red</span><span class="s">&#39;, &#39;</span><span class="n">awarded</span><span class="s">&#39;:false}&#39;</span>
<span class="n">wine</span> <span class="o">&lt;-</span> <span class="nf">fromJSON</span><span class="p">(</span><span class="n">wine_json</span><span class="p">)</span>

<span class="nf">str</span><span class="p">(</span><span class="n">wine</span><span class="p">)</span>

<span class="c1"># Import Quandl data: quandl_data</span>
<span class="n">quandl_url</span> <span class="o">&lt;-</span> <span class="s">&#39;http://www.quandl.com/api/v1/datasets/IWS/INTERNET_INDIA.json?auth_token=i83asDsiWUUyfoypkgMz&#39;</span>
<span class="n">quandl_data</span> <span class="o">&lt;-</span> <span class="nf">fromJSON</span><span class="p">(</span><span class="n">quandl_url</span><span class="p">)</span>

<span class="nf">str</span><span class="p">(</span><span class="n">quandl_data</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1"># Experiment 1</span>
<span class="n">json1</span> <span class="o">&lt;-</span> <span class="s">&#39;[1, 2, 3, 4, 5, 6]&#39;</span>
<span class="nf">fromJSON</span><span class="p">(</span><span class="n">json1</span><span class="p">)</span>

<span class="c1"># Experiment 2</span>
<span class="n">json2</span> <span class="o">&lt;-</span> <span class="s">&#39;{&#39;</span><span class="n">a</span><span class="s">&#39;: [1, 2, 3], &#39;</span><span class="n">b</span><span class="s">&#39;: [4, 5, 6]}&#39;</span>
<span class="nf">fromJSON</span><span class="p">(</span><span class="n">json2</span><span class="p">)</span>

<span class="c1"># Experiment 3</span>
<span class="n">json3</span> <span class="o">&lt;-</span> <span class="s">&#39;[[1, 2], [3, 4]]&#39;</span>
<span class="nf">fromJSON</span><span class="p">(</span><span class="n">json3</span><span class="p">)</span>

<span class="c1"># Experiment 4</span>
<span class="n">json4</span> <span class="o">&lt;-</span> <span class="s">&#39;[{&#39;</span><span class="n">a</span><span class="s">&#39;: 1, &#39;</span><span class="n">b</span><span class="s">&#39;: 2}, {&#39;</span><span class="n">a</span><span class="s">&#39;: 3, &#39;</span><span class="n">b</span><span class="s">&#39;: 4}, {&#39;</span><span class="n">a</span><span class="s">&#39;: 5, &#39;</span><span class="n">b</span><span class="s">&#39;: 6}]&#39;</span>
<span class="nf">fromJSON</span><span class="p">(</span><span class="n">json4</span><span class="p">)</span>
</code></pre></div>
<p><strong>Ask OMDb</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Definition of the URLs</span>
<span class="n">url_sw4</span> <span class="o">&lt;-</span> <span class="s">&#39;http://www.omdbapi.com/?i=tt0076759&amp;r=json&#39;</span>
<span class="n">url_sw3</span> <span class="o">&lt;-</span> <span class="s">&#39;http://www.omdbapi.com/?i=tt0121766&amp;r=json&#39;</span>

<span class="c1"># Import two URLs with fromJSON(): sw4 and sw3</span>
<span class="n">sw4</span> <span class="o">&lt;-</span> <span class="nf">fromJSON</span><span class="p">(</span><span class="n">url_sw4</span><span class="p">)</span>
<span class="n">sw3</span> <span class="o">&lt;-</span> <span class="nf">fromJSON</span><span class="p">(</span><span class="n">url_sw3</span><span class="p">)</span>

<span class="c1"># Print out the Title element of both lists</span>
<span class="n">sw4</span><span class="o">$</span><span class="n">Title</span>
<span class="n">sw3</span><span class="o">$</span><span class="n">Title</span>

<span class="c1"># Is the release year of sw4 later than sw3</span>
<span class="n">sw4</span><span class="o">$</span><span class="n">Year</span> <span class="o">&gt;</span> <span class="n">sw3</span><span class="o">$</span><span class="n">Year</span>
</code></pre></div>
<p><strong>From R to <code>JSON</code></strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># URL pointing to the .csv file</span>
<span class="n">url_csv</span> <span class="o">&lt;-</span> <span class="s">&#39;http://s3.amazonaws.com/assets.datacamp.com/course/importing_data_into_r/water.csv&#39;</span>

<span class="c1"># Import the .csv file located at url_csv</span>
<span class="n">water</span> <span class="o">&lt;-</span> <span class="nf">read.csv</span><span class="p">(</span><span class="n">url_csv</span><span class="p">,</span> <span class="n">stringsAsFactors</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">)</span>

<span class="c1"># Generate a summary of water</span>
<span class="nf">summary</span><span class="p">(</span><span class="n">water</span><span class="p">)</span>

<span class="c1"># Convert the data file according to the requirements</span>
<span class="n">water_json</span> <span class="o">&lt;-</span> <span class="nf">toJSON</span><span class="p">(</span><span class="n">water</span><span class="p">)</span>

<span class="n">water_json</span>
</code></pre></div>
<p><strong><code>Minify</code> and <code>prettify</code></strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Convert mtcars to a pretty JSON: pretty_json</span>
<span class="n">pretty_json</span> <span class="o">&lt;-</span> <span class="nf">toJSON</span><span class="p">(</span><span class="n">mtcars</span><span class="p">,</span> <span class="n">pretty</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span>

<span class="c1"># Print pretty_json</span>
<span class="n">pretty_json</span>

<span class="c1"># Minify pretty_json: mini_json</span>
<span class="n">mini_json</span> <span class="o">&lt;-</span> <span class="nf">minify</span><span class="p">(</span><span class="n">pretty_json</span><span class="p">)</span>

<span class="c1"># Print mini_json</span>
<span class="n">mini_json</span>
</code></pre></div>
<h2 id="keyboard-inputting">Keyboard Inputting<a class="headerlink" href="#keyboard-inputting" title="Permanent link">&para;</a></h2>
<p><strong>Coding</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># create a data frame from scratch</span>
<span class="n">age</span> <span class="o">&lt;-</span> <span class="nf">c</span><span class="p">(</span><span class="m">25</span><span class="p">,</span> <span class="m">30</span><span class="p">,</span> <span class="m">56</span><span class="p">)</span>
<span class="n">gender</span> <span class="o">&lt;-</span> <span class="nf">c</span><span class="p">(</span><span class="s">&quot;male&quot;</span><span class="p">,</span> <span class="s">&quot;female&quot;</span><span class="p">,</span> <span class="s">&quot;male&quot;</span><span class="p">)</span>
<span class="n">weight</span> <span class="o">&lt;-</span> <span class="nf">c</span><span class="p">(</span><span class="m">160</span><span class="p">,</span> <span class="m">110</span><span class="p">,</span> <span class="m">220</span><span class="p">)</span>
<span class="n">mydata</span> <span class="o">&lt;-</span> <span class="nf">data.frame</span><span class="p">(</span><span class="n">age</span><span class="p">,</span><span class="n">gender</span><span class="p">,</span><span class="n">weight</span><span class="p">)</span>
</code></pre></div>
<p><strong>Spreadsheet-like</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># enter data using editor</span>
<span class="n">mydata</span> <span class="o">&lt;-</span> <span class="nf">data.frame</span><span class="p">(</span><span class="n">age</span> <span class="o">=</span> <span class="nf">numeric</span><span class="p">(</span><span class="m">0</span><span class="p">),</span> <span class="n">gender</span> <span class="o">=</span> <span class="nf">character</span><span class="p">(</span><span class="m">0</span><span class="p">),</span> <span class="n">weight</span> <span class="o">=</span> <span class="nf">numeric</span><span class="p">(</span><span class="m">0</span><span class="p">))</span>

<span class="n">mydata</span> <span class="o">&lt;-</span> <span class="nf">edit</span><span class="p">(</span><span class="n">mydata</span><span class="p">)</span>
<span class="c1"># note that without the assignment in the line above, the edits are not saved! </span>
</code></pre></div>
<h2 id="exporting-data">Exporting Data<a class="headerlink" href="#exporting-data" title="Permanent link">&para;</a></h2>
<h3 id="to-a-tab-delimited-text-file">To a Tab-Delimited Text File<a class="headerlink" href="#to-a-tab-delimited-text-file" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nf">write.table</span><span class="p">(</span><span class="n">mydata</span><span class="p">,</span> <span class="s">&#39;c:/mydata.txt&#39;</span><span class="p">,</span> <span class="n">sep</span> <span class="o">=</span> <span class="s">&quot;\t&quot;</span><span class="p">)</span>
</code></pre></div>
<h3 id="to-an-excel-spreadsheet">To an Excel Spreadsheet<a class="headerlink" href="#to-an-excel-spreadsheet" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nf">library</span><span class="p">(</span><span class="n">xlsx</span><span class="p">)</span>

<span class="nf">write.xlsx</span><span class="p">(</span><span class="n">mydata</span><span class="p">,</span> <span class="s">&quot;c:/mydata.xlsx&quot;</span><span class="p">)</span>
</code></pre></div>
<p><strong>Worksheet</strong></p>
<div class="highlight"><pre><span></span><code><span class="nf">library</span><span class="p">(</span><span class="n">XLConnect</span><span class="p">)</span>
<span class="c1"># xls or xlsx</span>

<span class="c1"># write a worksheet in steps</span>
<span class="n">wb</span> <span class="o">&lt;-</span> <span class="nf">loadWorkbook</span><span class="p">(</span><span class="s">&#39;XLConnectExample1.xls&#39;</span><span class="p">,</span> <span class="n">create</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span>
<span class="nf">createSheet</span><span class="p">(</span><span class="n">wb</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;chickSheet&#39;</span><span class="p">)</span>
<span class="nf">writeWorksheet</span><span class="p">(</span><span class="n">wb</span><span class="p">,</span> <span class="n">ChickWeight</span><span class="p">,</span> <span class="n">sheet</span> <span class="o">=</span> <span class="s">&#39;chickSheet&#39;</span><span class="p">,</span> <span class="n">startRow</span> <span class="o">=</span> <span class="m">3</span><span class="p">,</span> <span class="n">startCol</span> <span class="o">=</span> <span class="m">4</span><span class="p">)</span>
<span class="nf">saveWorkbook</span><span class="p">(</span><span class="n">wb</span><span class="p">)</span>

<span class="c1"># write a worksheet all in one step</span>
<span class="n">ChickWeight</span> <span class="o">&lt;-</span> <span class="m">1</span>

<span class="nf">writeWorksheetToFile</span><span class="p">(</span><span class="s">&#39;XLConnectExample2.xlsx&#39;</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">ChickWeight</span><span class="p">,</span> <span class="n">sheet</span> <span class="o">=</span> <span class="s">&#39;chickSheet&#39;</span><span class="p">,</span> <span class="n">startRow</span> <span class="o">=</span> <span class="m">3</span><span class="p">,</span> <span class="n">startCol</span> <span class="o">=</span> <span class="m">4</span><span class="p">)</span>
</code></pre></div>
<p><strong>Field</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># write a field in steps</span>
<span class="n">wb</span> <span class="o">=</span> <span class="nf">loadWorkbook</span><span class="p">(</span><span class="s">&#39;XLConnectExample3.xlsx&#39;</span><span class="p">,</span> <span class="n">create</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span>
<span class="nf">createSheet</span><span class="p">(</span><span class="n">wb</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;womenData&#39;</span><span class="p">)</span>
<span class="nf">createName</span><span class="p">(</span><span class="n">wb</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;womenName&#39;</span><span class="p">,</span> <span class="n">formula</span> <span class="o">=</span> <span class="s">&#39;womenData!$C$5&#39;</span><span class="p">,</span> <span class="n">overwrite</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span>
<span class="nf">writeNamedRegion</span><span class="p">(</span><span class="n">wb</span><span class="p">,</span> <span class="n">women</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="s">&quot;womenName&quot;</span><span class="p">)</span>
<span class="nf">saveWorkbook</span><span class="p">(</span><span class="n">wb</span><span class="p">)</span>

<span class="c1"># write a field all in one step</span>
<span class="nf">writeNamedRegionToFile</span><span class="p">(</span><span class="s">&quot;XLConnectExample4.xlsx&quot;</span><span class="p">,</span> <span class="n">women</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="s">&quot;womenName&quot;</span><span class="p">,</span> <span class="n">formula</span> <span class="o">=</span> <span class="s">&quot;womenData!$C$5&quot;</span><span class="p">)</span>
</code></pre></div>
<p><strong>I/O</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Build connection to latitude.xlsx</span>
<span class="n">my_book</span> <span class="o">&lt;-</span> <span class="nf">loadWorkbook</span><span class="p">(</span><span class="s">&#39;latitude.xlsx&#39;</span><span class="p">)</span>

<span class="c1"># Create data frame: summ</span>
<span class="n">dims1</span> <span class="o">&lt;-</span> <span class="nf">dim</span><span class="p">(</span><span class="nf">readWorksheet</span><span class="p">(</span><span class="n">my_book</span><span class="p">,</span> <span class="m">1</span><span class="p">))</span>
<span class="n">dims2</span> <span class="o">&lt;-</span> <span class="nf">dim</span><span class="p">(</span><span class="nf">readWorksheet</span><span class="p">(</span><span class="n">my_book</span><span class="p">,</span> <span class="m">2</span><span class="p">))</span>
<span class="n">summ</span> <span class="o">&lt;-</span> <span class="nf">data.frame</span><span class="p">(</span><span class="n">sheets</span> <span class="o">=</span> <span class="nf">getSheets</span><span class="p">(</span><span class="n">my_book</span><span class="p">),</span> 
                   <span class="n">nrows</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="n">dims1</span><span class="p">[</span><span class="m">1</span><span class="p">],</span> <span class="n">dims2</span><span class="p">[</span><span class="m">1</span><span class="p">]),</span> 
                   <span class="n">ncols</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="n">dims1</span><span class="p">[</span><span class="m">2</span><span class="p">],</span> <span class="n">dims2</span><span class="p">[</span><span class="m">2</span><span class="p">]))</span>

<span class="c1"># Add a worksheet to my_book, named &#39;data_summary&#39;</span>
<span class="nf">createSheet</span><span class="p">(</span><span class="n">my_book</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;data_summary&#39;</span><span class="p">)</span>

<span class="c1"># Populate &#39;data_summary&#39; with summ data frame</span>
<span class="nf">writeWorksheet</span><span class="p">(</span><span class="n">my_book</span><span class="p">,</span> <span class="n">summ</span><span class="p">,</span> <span class="n">sheet</span> <span class="o">=</span> <span class="s">&#39;data_summary&#39;</span><span class="p">)</span>
<span class="c1"># Save workbook as latitude_with_summ.xlsx</span>

<span class="nf">saveWorkbook</span><span class="p">(</span><span class="n">my_book</span><span class="p">,</span> <span class="s">&#39;latitude_with_summ.xlsx&#39;</span><span class="p">)</span>
</code></pre></div>
<h3 id="to-spss">To SPSS<a class="headerlink" href="#to-spss" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nf">library</span><span class="p">(</span><span class="n">foreign</span><span class="p">)</span>

<span class="nf">write.foreign</span><span class="p">(</span><span class="n">mydata</span><span class="p">,</span> <span class="s">&quot;c:/mydata.txt&quot;</span><span class="p">,</span> <span class="s">&quot;c:/mydata.sps&quot;</span><span class="p">,</span> <span class="n">package</span> <span class="o">=</span> <span class="s">&quot;SPSS&quot;</span><span class="p">)</span>
</code></pre></div>
<h3 id="to-sas">To SAS<a class="headerlink" href="#to-sas" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nf">library</span><span class="p">(</span><span class="n">foreign</span><span class="p">)</span>

<span class="nf">write.foreign</span><span class="p">(</span><span class="n">mydata</span><span class="p">,</span> <span class="s">&quot;c:/mydata.txt&quot;</span><span class="p">,</span> <span class="s">&quot;c:/mydata.sas&quot;</span><span class="p">,</span> <span class="n">package</span> <span class="o">=</span> <span class="s">&quot;SAS&quot;</span><span class="p">)</span> 
</code></pre></div>
<h3 id="to-stata">To Stata<a class="headerlink" href="#to-stata" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nf">library</span><span class="p">(</span><span class="n">foreign</span><span class="p">)</span>

<span class="nf">write.dta</span><span class="p">(</span><span class="n">mydata</span><span class="p">,</span> <span class="s">&quot;c:/mydata.dta&quot;</span><span class="p">)</span> 
</code></pre></div>
<h2 id="inspecting-data-missing-data">Inspecting Data - Missing Data<a class="headerlink" href="#inspecting-data-missing-data" title="Permanent link">&para;</a></h2>
<h3 id="inspecting">Inspecting<a class="headerlink" href="#inspecting" title="Permanent link">&para;</a></h3>
<ul>
<li><code>ls(object)</code>.</li>
<li><code>names(object)</code>.</li>
<li><code>str(object)</code>.</li>
<li><code>levels(object$v1)</code>.</li>
<li><code>dim(object)</code>.</li>
<li><code>class(object)</code>.</li>
<li><code>print(object)</code>.</li>
<li><code>head(object, 10)</code>.</li>
<li><code>tail(object, 20)</code>.</li>
</ul>
<p><strong>Testing for Missing Values</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">y</span> <span class="o">&lt;-</span> <span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">,</span> <span class="kc">NA</span><span class="p">)</span> <span class="c1"># returns TRUE of x is missing</span>
<span class="nf">is.na</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="c1"># returns a vector (F F F T) </span>
</code></pre></div>
<p><strong>Recoding Values to Missing</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># recode 99 to missing for variable v1</span>
<span class="c1"># select rows where v1 is 99 and recode column v1</span>
<span class="n">mydata</span><span class="o">$</span><span class="n">v1</span><span class="p">[</span><span class="n">mydata</span><span class="o">$</span><span class="n">v1</span> <span class="o">==</span> <span class="m">99</span><span class="p">]</span> <span class="o">&lt;-</span> <span class="kc">NA</span> 
</code></pre></div>
<p><strong>Excluding Missing Values from Analyses</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">x</span> <span class="o">&lt;-</span> <span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="kc">NA</span><span class="p">,</span> <span class="m">3</span><span class="p">)</span>

<span class="nf">mean</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="c1"># returns NA</span>
<span class="nf">mean</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">na.rm</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span> <span class="c1"># returns 2 </span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1"># list rows of data that have missing values</span>
<span class="n">mydata</span><span class="p">[</span><span class="o">!</span><span class="nf">complete.cases</span><span class="p">(</span><span class="n">mydata</span><span class="p">),]</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1"># create new dataset without missing data</span>
<span class="n">newdata</span> <span class="o">&lt;-</span> <span class="nf">na.omit</span><span class="p">(</span><span class="n">mydata</span><span class="p">)</span> 
</code></pre></div>
<h3 id="the-dplyr-package">The <code>dplyr</code> package<a class="headerlink" href="#the-dplyr-package" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nf">library</span><span class="p">(</span><span class="n">dplyr</span><span class="p">)</span>

<span class="nf">tbl_df</span><span class="p">(</span><span class="n">iris</span><span class="p">)</span> <span class="c1"># almost like head/tail</span>
<span class="nf">glimpse</span><span class="p">(</span><span class="n">iris</span><span class="p">)</span> <span class="c1"># almost like str</span>
<span class="nf">View</span><span class="p">(</span><span class="n">iris</span><span class="p">)</span> <span class="c1"># open a spreadsheet</span>
</code></pre></div>
<h3 id="for-thorough-cleaning">For thorough cleaning<a class="headerlink" href="#for-thorough-cleaning" title="Permanent link">&para;</a></h3>
<ul>
<li>The <a href="http://gking.harvard.edu/amelia/">Amelia II</a> software.</li>
<li>The <code>mitools</code> package.</li>
</ul>
<h2 id="labels-levels">Labels &amp; Levels<a class="headerlink" href="#labels-levels" title="Permanent link">&para;</a></h2>
<p><strong>Basic</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># variable v1 is coded 1, 2 or 3</span>
<span class="c1"># we want to attach value labels 1=red, 2=blue, 3=green</span>
<span class="n">mydata</span><span class="o">$</span><span class="n">v1</span> <span class="o">&lt;-</span> <span class="nf">factor</span><span class="p">(</span><span class="n">mydata</span><span class="o">$</span><span class="n">v1</span><span class="p">,</span> 
                    <span class="n">levels</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">),</span>
                    <span class="n">labels</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&quot;red&quot;</span><span class="p">,</span> <span class="s">&quot;blue&quot;</span><span class="p">,</span> <span class="s">&quot;green&quot;</span><span class="p">))</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1"># variable y is coded 1, 3 or 5</span>
<span class="c1"># we want to attach value labels 1=Low, 3=Medium, 5=High</span>
<span class="n">mydata</span><span class="o">$</span><span class="n">v1</span> <span class="o">&lt;-</span> <span class="nf">ordered</span><span class="p">(</span><span class="n">mydata</span><span class="o">$</span><span class="n">y</span><span class="p">,</span>
                     <span class="n">levels</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">3</span><span class="p">,</span> <span class="m">5</span><span class="p">),</span>
                     <span class="n">labels</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&quot;Low&quot;</span><span class="p">,</span> <span class="s">&quot;Medium&quot;</span><span class="p">,</span> <span class="s">&quot;High&quot;</span><span class="p">))</span> 
</code></pre></div>
<p><strong>Order</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Create a vector of temperature observations</span>
<span class="n">temperature_vector</span> <span class="o">&lt;-</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#39;High&#39;</span><span class="p">,</span> <span class="s">&#39;Low&#39;</span><span class="p">,</span> <span class="s">&#39;High&#39;</span><span class="p">,</span> <span class="s">&#39;Low&#39;</span><span class="p">,</span> <span class="s">&#39;Medium&#39;</span><span class="p">)</span>

<span class="c1"># Specify that they are ordinal variables with the given levels</span>
<span class="n">factor_temperature_vector</span> <span class="o">&lt;-</span> <span class="nf">factor</span><span class="p">(</span><span class="n">temperature_vector</span><span class="p">,</span> <span class="n">order</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">,</span> <span class="n">levels</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#39;Low&#39;</span><span class="p">,</span> <span class="s">&#39;Medium&#39;</span><span class="p">,</span> <span class="s">&#39;High&#39;</span><span class="p">))</span>
</code></pre></div>
<p><strong>Add comments to an object</strong></p>
<div class="highlight"><pre><span></span><code><span class="nf">names</span><span class="p">(</span><span class="n">iris</span><span class="p">)[</span><span class="m">5</span><span class="p">]</span> <span class="o">&lt;-</span> <span class="s">&quot;This is the label for variable 5&quot;</span>

<span class="nf">names</span><span class="p">(</span><span class="n">iris</span><span class="p">)[</span><span class="m">5</span><span class="p">]</span> <span class="c1"># the comment</span>
<span class="n">iris</span><span class="p">[</span><span class="m">5</span><span class="p">]</span> <span class="c1"># the data</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1"># labeling the variables</span>
<span class="nf">library</span><span class="p">(</span><span class="n">Hmisc</span><span class="p">)</span>

<span class="nf">label</span><span class="p">(</span><span class="n">iris</span><span class="o">$</span><span class="n">Species</span><span class="p">)</span> <span class="o">&lt;-</span> <span class="s">&quot;Variable label for variable myvar&quot;</span>

<span class="nf">describe</span><span class="p">(</span><span class="n">iris</span><span class="o">$</span><span class="n">Species</span><span class="p">)</span> <span class="c1"># commented</span>
<span class="c1">#vs</span>
<span class="nf">describe</span><span class="p">(</span><span class="n">iris</span><span class="o">$</span><span class="n">Sepal.Length</span><span class="p">)</span> <span class="c1"># not commented</span>
</code></pre></div>
<hr />
<h2 id="how-to-work-with-quandl-in-r">How to work with Quandl in R<a class="headerlink" href="#how-to-work-with-quandl-in-r" title="Permanent link">&para;</a></h2>
<h3 id="importing-quandl-datasets">Importing Quandl Datasets<a class="headerlink" href="#importing-quandl-datasets" title="Permanent link">&para;</a></h3>
<p><a href="https://www.quandl.com/">Quandl</a> delivers financial, economic and<br />
alternative data to the world&rsquo;s top hedge funds, asset managers and<br />
investment banks in several formats:</p>
<ul>
<li>Excel.</li>
<li>R.</li>
<li>Python.</li>
<li>API.</li>
<li>DB.</li>
</ul>
<p>The packages used:</p>
<ul>
<li><code>Quandl</code>.</li>
<li><code>quantmod</code> for plotting.</li>
</ul>
<p><strong>Quandl - A first date</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Load in the Quandl package</span>
<span class="nf">library</span><span class="p">(</span><span class="n">Quandl</span><span class="p">)</span>

<span class="c1"># Assign your first dataset to the variable:</span>
<span class="n">mydata</span> <span class="o">&lt;-</span> <span class="nf">Quandl</span><span class="p">(</span><span class="s">&#39;NSE/OIL&#39;</span><span class="p">)</span>
</code></pre></div>
<p><strong>Identifying a dataset with its ID</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Assign the Prague Stock Exchange to:</span>
<span class="n">PragueStockExchange</span> <span class="o">&lt;-</span> <span class="nf">Quandl</span><span class="p">(</span><span class="s">&#39;PRAGUESE/PX&#39;</span><span class="p">)</span>
</code></pre></div>
<p><strong>Plotting a stock chart</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># The quantmod package</span>
<span class="nf">library</span><span class="p">(</span><span class="n">quantmod</span><span class="p">)</span>

<span class="c1"># Load the Facebook data with the help of Quandl</span>
<span class="n">Facebook</span> <span class="o">&lt;-</span> <span class="nf">Quandl</span><span class="p">(</span><span class="s">&#39;GOOG/NASDAQ_FB&#39;</span><span class="p">,</span> <span class="n">type</span> <span class="o">=</span> <span class="s">&#39;xts&#39;</span><span class="p">)</span>

<span class="c1"># Plot the chart with the help of candleChart()</span>
<span class="nf">candleChart</span><span class="p">(</span><span class="n">Facebook</span><span class="p">)</span>
</code></pre></div>
<p><strong>Searching a Quandl dataset in R</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Look up the first 3 results for &#39;Bitcoin&#39; within the Quandl database:</span>
<span class="n">results</span> <span class="o">&lt;-</span> <span class="nf">Quandl.search</span><span class="p">(</span><span class="n">query</span> <span class="o">=</span> <span class="s">&#39;Bitcoin&#39;</span><span class="p">,</span> <span class="n">silent</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">)</span>

<span class="c1"># Print out the results</span>
<span class="nf">str</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>

<span class="c1"># Assign the data set with code BCHAIN/TOTBC</span>
<span class="n">BitCoin</span> <span class="o">&lt;-</span> <span class="nf">Quandl</span><span class="p">(</span><span class="s">&#39;BCHAIN/TOTBC&#39;</span><span class="p">)</span>
</code></pre></div>
<h3 id="manipulating-quandl-datasets">Manipulating Quandl Datasets<a class="headerlink" href="#manipulating-quandl-datasets" title="Permanent link">&para;</a></h3>
<p><strong>Manipulating data</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Assign to the variable Exchange</span>
<span class="n">Exchange</span> <span class="o">&lt;-</span> <span class="nf">Quandl</span><span class="p">(</span><span class="s">&#39;BNP/USDEUR&#39;</span><span class="p">,</span> <span class="n">start_date</span> <span class="o">=</span> <span class="s">&#39;2013-01-01&#39;</span><span class="p">,</span> <span class="n">end_date</span> <span class="o">=</span> <span class="s">&#39;2013-12-01&#39;</span><span class="p">)</span>
</code></pre></div>
<p><strong>Transforming your Quandl dataset</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># API transformation</span>
<span class="c1"># The result:</span>
<span class="n">GDP_Change</span> <span class="o">&lt;-</span> <span class="nf">Quandl</span><span class="p">(</span><span class="s">&#39;FRED/CANRGDPR&#39;</span><span class="p">,</span> <span class="n">transformation</span> <span class="o">=</span> <span class="s">&#39;rdiff&#39;</span><span class="p">)</span>
<span class="nf">head</span><span class="p">(</span><span class="n">GDP_Change</span><span class="p">)</span>
<span class="n">GDP_Chang</span> <span class="o">&lt;-</span> <span class="nf">Quandl</span><span class="p">(</span><span class="s">&#39;FRED/CANRGDPR&#39;</span><span class="p">)</span>
<span class="nf">head</span><span class="p">(</span><span class="n">GDP_Chang</span><span class="p">)</span>
</code></pre></div>
<p><strong>The magic of frequency collapsing</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># The result:</span>
<span class="n">eiaQuarterly</span> <span class="o">&lt;-</span> <span class="nf">Quandl</span><span class="p">(</span><span class="s">&#39;DOE/RWTC&#39;</span><span class="p">,</span> <span class="n">collapse</span> <span class="o">=</span> <span class="s">&#39;quarterly&#39;</span><span class="p">)</span>
</code></pre></div>
<p><strong>Truncation and sort</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Assign to TruSo the first 5 observations of the crude oil prices</span>
<span class="n">TruSo</span> <span class="o">&lt;-</span> <span class="nf">Quandl</span><span class="p">(</span><span class="s">&#39;DOE/RWTC&#39;</span><span class="p">,</span> <span class="n">sort</span> <span class="o">=</span> <span class="s">&#39;asc&#39;</span><span class="p">,</span> <span class="n">rows</span> <span class="o">=</span> <span class="m">5</span><span class="p">)</span>

<span class="c1"># Print the result</span>
<span class="n">TruSo</span>
</code></pre></div>
<p><strong>A complex example</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Here you should place the return:</span>
<span class="n">Final</span> <span class="o">&lt;-</span> <span class="nf">Quandl</span><span class="p">(</span><span class="s">&#39;DOE/RWTC&#39;</span><span class="p">,</span> <span class="n">collapse</span> <span class="o">=</span> <span class="s">&#39;daily&#39;</span><span class="p">,</span> <span class="n">transformation</span> <span class="o">=</span> <span class="s">&#39;rdiff&#39;</span><span class="p">,</span> <span class="n">start_date</span> <span class="o">=</span> <span class="s">&#39;2005-01-01&#39;</span><span class="p">,</span> <span class="n">end_date</span> <span class="o">=</span> <span class="s">&#39;2010-03-01&#39;</span><span class="p">,</span> <span class="n">sort</span> <span class="o">=</span> <span class="s">&#39;asc&#39;</span><span class="p">)</span>
</code></pre></div>
<hr />
<h2 id="cleaning-data-in-r">Cleaning Data in R<a class="headerlink" href="#cleaning-data-in-r" title="Permanent link">&para;</a></h2>
<p>The packages used:</p>
<ul>
<li><code>dplyr</code> &amp; <code>tidyr</code> for data wrangling.</li>
<li><code>stringr</code> for regex.</li>
<li><code>lubridate</code> for time and date.</li>
</ul>
<h3 id="introduction-and-exploring-raw-data">Introduction and Exploring Raw Data<a class="headerlink" href="#introduction-and-exploring-raw-data" title="Permanent link">&para;</a></h3>
<p><strong>Here&rsquo;s what messy data look like</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># View the first 6 rows of data</span>
<span class="nf">head</span><span class="p">(</span><span class="n">weather</span><span class="p">)</span>

<span class="c1"># View the last 6 rows of data</span>
<span class="nf">tail</span><span class="p">(</span><span class="n">weather</span><span class="p">)</span>

<span class="c1"># View a condensed summary of the data</span>
<span class="nf">str</span><span class="p">(</span><span class="n">weather</span><span class="p">)</span>
</code></pre></div>
<p><strong>Getting a feel for your data</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Check the class of bmi</span>
<span class="nf">class</span><span class="p">(</span><span class="n">bmi</span><span class="p">)</span>

<span class="c1"># Check the dimensions of bmi</span>
<span class="nf">dim</span><span class="p">(</span><span class="n">bmi</span><span class="p">)</span>

<span class="c1"># View the column names of bmi</span>
<span class="nf">names</span><span class="p">(</span><span class="n">bmi</span><span class="p">)</span>
</code></pre></div>
<p><strong>Viewing the structure of your data</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Check the structure of bmi</span>
<span class="nf">str</span><span class="p">(</span><span class="n">bmi</span><span class="p">)</span>

<span class="c1"># Load dplyr</span>
<span class="nf">library</span><span class="p">(</span><span class="n">dplyr</span><span class="p">)</span>

<span class="c1"># Check the structure of bmi, the dplyr way</span>
<span class="nf">glimpse</span><span class="p">(</span><span class="n">bmi</span><span class="p">)</span>

<span class="c1"># View a summary of bmi</span>
<span class="nf">summary</span><span class="p">(</span><span class="n">bmi</span><span class="p">)</span>
</code></pre></div>
<p><strong>Looking at your data</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Print bmi to the console</span>
<span class="nf">print</span><span class="p">(</span><span class="n">bmi</span><span class="p">)</span>

<span class="c1"># View the first 6 rows</span>
<span class="nf">head</span><span class="p">(</span><span class="n">bmi</span><span class="p">,</span> <span class="m">6</span><span class="p">)</span>

<span class="c1"># View the first 15 rows</span>
<span class="nf">head</span><span class="p">(</span><span class="n">bmi</span><span class="p">,</span> <span class="m">15</span><span class="p">)</span>

<span class="c1"># View the last 6 rows</span>
<span class="nf">tail</span><span class="p">(</span><span class="n">bmi</span><span class="p">,</span> <span class="m">6</span><span class="p">)</span>

<span class="c1"># View the last 10 rows</span>
<span class="nf">tail</span><span class="p">(</span><span class="n">bmi</span><span class="p">,</span> <span class="m">10</span><span class="p">)</span>
</code></pre></div>
<p><strong>Visualizing your data</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Histogram of BMIs from 2008</span>
<span class="nf">hist</span><span class="p">(</span><span class="n">bmi</span><span class="o">$</span><span class="n">Y2008</span><span class="p">)</span>

<span class="c1"># Scatter plot comparing BMIs from 1980 to those from 2008</span>
<span class="nf">plot</span><span class="p">(</span><span class="n">bmi</span><span class="o">$</span><span class="n">Y1980</span><span class="p">,</span> <span class="n">bmi</span><span class="o">$</span><span class="n">Y2008</span><span class="p">)</span>
</code></pre></div>
<h3 id="tidying-data">Tidying Data<a class="headerlink" href="#tidying-data" title="Permanent link">&para;</a></h3>
<p><strong>Gathering columns into key-value pairs</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Load tidyr</span>
<span class="nf">library</span><span class="p">(</span><span class="n">tidyr</span><span class="p">)</span>

<span class="c1"># Apply gather() to bmi and save the result as bmi_long</span>
<span class="n">bmi_long</span> <span class="o">&lt;-</span> <span class="nf">gather</span><span class="p">(</span><span class="n">bmi</span><span class="p">,</span> <span class="n">year</span><span class="p">,</span> <span class="n">bmi_val</span><span class="p">,</span> <span class="o">-</span><span class="n">Country</span><span class="p">)</span>

<span class="c1"># View the first 20 rows of the result</span>
<span class="nf">head</span><span class="p">(</span><span class="n">bmi_long</span><span class="p">,</span> <span class="m">20</span><span class="p">)</span>
</code></pre></div>
<p><strong>Spreading key-value pairs into columns</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Apply spread() to bmi_long</span>
<span class="n">bmi_wide</span> <span class="o">&lt;-</span> <span class="nf">spread</span><span class="p">(</span><span class="n">bmi_long</span><span class="p">,</span> <span class="n">year</span><span class="p">,</span> <span class="n">bmi_val</span><span class="p">)</span>

<span class="c1"># View the head of bmi_wide</span>
<span class="nf">head</span><span class="p">(</span><span class="n">bmi_wide</span><span class="p">)</span>
</code></pre></div>
<p><strong>Separating columns</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Apply separate() to bmi_cc</span>
<span class="n">bmi_cc_clean</span> <span class="o">&lt;-</span> <span class="nf">separate</span><span class="p">(</span><span class="n">bmi_cc</span><span class="p">,</span> <span class="n">col</span> <span class="o">=</span> <span class="n">Country_ISO</span><span class="p">,</span> <span class="n">into</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#39;Country&#39;</span><span class="p">,</span> <span class="s">&#39;ISO&#39;</span><span class="p">),</span> <span class="n">sep</span> <span class="o">=</span> <span class="s">&#39;/&#39;</span><span class="p">)</span>

<span class="c1"># Print the head of the result</span>
<span class="nf">head</span><span class="p">(</span><span class="n">bmi_cc_clean</span><span class="p">)</span>
</code></pre></div>
<p><strong>Uniting columns</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Apply unite() to bmi_cc_clean</span>
<span class="n">bmi_cc</span> <span class="o">&lt;-</span> <span class="nf">unite</span><span class="p">(</span><span class="n">bmi_cc_clean</span><span class="p">,</span> <span class="n">Country_ISO</span><span class="p">,</span> <span class="n">Country</span><span class="p">,</span> <span class="n">ISO</span><span class="p">,</span> <span class="n">sep</span> <span class="o">=</span> <span class="s">&#39;-&#39;</span><span class="p">)</span>

<span class="c1"># View the head of the result</span>
<span class="nf">head</span><span class="p">(</span><span class="n">bmi_cc</span><span class="p">)</span>
</code></pre></div>
<p><strong>Column headers are values, not variable names</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># View the head of census</span>
<span class="nf">head</span><span class="p">(</span><span class="n">census</span><span class="p">)</span>

<span class="c1"># Gather the month columns</span>
<span class="n">census2</span> <span class="o">&lt;-</span> <span class="nf">gather</span><span class="p">(</span><span class="n">census</span><span class="p">,</span> <span class="n">month</span><span class="p">,</span> <span class="n">amount</span><span class="p">,</span> <span class="n">JAN</span><span class="p">,</span> <span class="n">FEB</span><span class="p">,</span> <span class="n">MAR</span><span class="p">,</span> <span class="n">APR</span><span class="p">,</span> <span class="n">MAY</span><span class="p">,</span> <span class="n">JUN</span><span class="p">,</span> <span class="n">JUL</span><span class="p">,</span> <span class="n">AUG</span><span class="p">,</span> <span class="n">SEP</span><span class="p">,</span> <span class="n">OCT</span><span class="p">,</span> <span class="n">NOV</span><span class="p">,</span> <span class="n">DEC</span><span class="p">)</span>

<span class="c1"># Arrange rows by YEAR using dplyr&#39;s arrange</span>
<span class="n">census2</span> <span class="o">&lt;-</span> <span class="nf">arrange</span><span class="p">(</span><span class="n">census2</span><span class="p">,</span> <span class="n">YEAR</span><span class="p">)</span>

<span class="c1"># View first 20 rows of census2</span>
<span class="nf">head</span><span class="p">(</span><span class="n">census2</span><span class="p">,</span> <span class="m">20</span><span class="p">)</span>
</code></pre></div>
<p><strong>Variables are stored in both rows and columns</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># View first 50 rows of census_long</span>
<span class="nf">head</span><span class="p">(</span><span class="n">census_long</span><span class="p">,</span> <span class="m">50</span><span class="p">)</span>

<span class="c1"># Spread the type column</span>
<span class="n">census_long2</span> <span class="o">&lt;-</span> <span class="nf">spread</span><span class="p">(</span><span class="n">census_long</span><span class="p">,</span> <span class="n">type</span><span class="p">,</span> <span class="n">amount</span><span class="p">)</span>

<span class="c1"># View first 20 rows of census_long2</span>
<span class="nf">head</span><span class="p">(</span><span class="n">census_long2</span><span class="p">,</span> <span class="m">20</span><span class="p">)</span>
</code></pre></div>
<p><strong>Multiple values are stored in one column</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># View the head of census_long3</span>
<span class="nf">head</span><span class="p">(</span><span class="n">census_long3</span><span class="p">)</span>

<span class="c1"># Separate the yr_month column into two</span>
<span class="n">census_long4</span> <span class="o">&lt;-</span> <span class="nf">separate</span><span class="p">(</span><span class="n">census_long3</span><span class="p">,</span> <span class="n">yr_month</span><span class="p">,</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#39;year&#39;</span><span class="p">,</span> <span class="s">&#39;month&#39;</span><span class="p">),</span> <span class="s">&#39;_&#39;</span><span class="p">)</span>

<span class="c1"># View the first 6 rows of the result</span>
<span class="nf">head</span><span class="p">(</span><span class="n">census_long4</span><span class="p">,</span> <span class="m">6</span><span class="p">)</span>
</code></pre></div>
<h3 id="preparing-data-for-analysis">Preparing Data for Analysis<a class="headerlink" href="#preparing-data-for-analysis" title="Permanent link">&para;</a></h3>
<p><strong>Types of variables in R</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Make this evaluate to character</span>
<span class="nf">class</span><span class="p">(</span><span class="s">&#39;true&#39;</span><span class="p">)</span>

<span class="c1"># Make this evaluate to numeric</span>
<span class="nf">class</span><span class="p">(</span><span class="m">8484.00</span><span class="p">)</span>

<span class="c1"># Make this evaluate to integer</span>
<span class="nf">class</span><span class="p">(</span><span class="m">99L</span><span class="p">)</span>

<span class="c1"># Make this evaluate to factor</span>
<span class="nf">class</span><span class="p">(</span><span class="nf">factor</span><span class="p">(</span><span class="s">&#39;factor&#39;</span><span class="p">))</span>

<span class="c1"># Make this evaluate to logical</span>
<span class="nf">class</span><span class="p">(</span><span class="kc">FALSE</span><span class="p">)</span>
</code></pre></div>
<p><strong>Common type conversions</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Preview students with str()</span>
<span class="nf">str</span><span class="p">(</span><span class="n">students</span><span class="p">)</span>

<span class="c1"># Coerce Grades to character</span>
<span class="n">students</span><span class="o">$</span><span class="n">Grades</span> <span class="o">&lt;-</span> <span class="nf">as.character</span><span class="p">(</span><span class="n">students</span><span class="o">$</span><span class="n">Grades</span><span class="p">)</span>

<span class="c1"># Coerce Medu to factor</span>
<span class="n">students</span><span class="o">$</span><span class="n">Medu</span> <span class="o">&lt;-</span> <span class="nf">as.factor</span><span class="p">(</span><span class="n">students</span><span class="o">$</span><span class="n">Medu</span><span class="p">)</span>

<span class="c1"># Coerce Fedu to factor</span>
<span class="n">students</span><span class="o">$</span><span class="n">Fedu</span> <span class="o">&lt;-</span> <span class="nf">as.factor</span><span class="p">(</span><span class="n">students</span><span class="o">$</span><span class="n">Fedu</span><span class="p">)</span>

 <span class="c1"># Look at students once more with str()</span>
<span class="nf">str</span><span class="p">(</span><span class="n">students</span><span class="p">)</span>
</code></pre></div>
<p><strong>Working with dates</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Preview students2 with str()</span>
<span class="nf">str</span><span class="p">(</span><span class="n">students2</span><span class="p">)</span>

<span class="c1"># Load the lubridate package</span>
<span class="nf">library</span><span class="p">(</span><span class="n">lubridate</span><span class="p">)</span>

<span class="c1"># Parse as date</span>
<span class="nf">ymd</span><span class="p">(</span><span class="s">&#39;2015-Sep-17&#39;</span><span class="p">)</span>

<span class="c1"># Parse as date and time (with no seconds!)</span>
<span class="nf">ymd_hm</span><span class="p">(</span><span class="s">&#39;2012-July-15, 12.56&#39;</span><span class="p">)</span>

<span class="c1"># Coerce dob to a date (with no time)</span>
<span class="n">students2</span><span class="o">$</span><span class="n">dob</span> <span class="o">&lt;-</span> <span class="nf">ymd</span><span class="p">(</span><span class="n">students2</span><span class="o">$</span><span class="n">dob</span><span class="p">)</span>

<span class="c1"># Coerce nurse_visit to a date and time</span>
<span class="n">students2</span><span class="o">$</span><span class="n">nurse_visit</span> <span class="o">&lt;-</span> <span class="nf">ymd_hms</span><span class="p">(</span><span class="n">students2</span><span class="o">$</span><span class="n">nurse_visit</span><span class="p">)</span>

<span class="c1"># Look at students2 once more with str()</span>
<span class="nf">str</span><span class="p">(</span><span class="n">students2</span><span class="p">)</span>
</code></pre></div>
<p><strong>Trimming and padding strings</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Load the stringr package</span>
<span class="nf">library</span><span class="p">(</span><span class="n">stringr</span><span class="p">)</span>

<span class="c1"># Trim all leading and trailing whitespace</span>
<span class="nf">str_trim</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="s">&#39;   Filip &#39;</span><span class="p">,</span> <span class="s">&#39;Nick  &#39;</span><span class="p">,</span> <span class="s">&#39; Jonathan&#39;</span><span class="p">))</span>

<span class="c1"># Pad these strings with leading zeros</span>
<span class="nf">str_pad</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="s">&#39;23485W&#39;</span><span class="p">,</span> <span class="s">&#39;8823453Q&#39;</span><span class="p">,</span> <span class="s">&#39;994Z&#39;</span><span class="p">),</span> <span class="n">width</span> <span class="o">=</span> <span class="m">9</span><span class="p">,</span> <span class="n">side</span> <span class="o">=</span> <span class="s">&#39;left&#39;</span><span class="p">,</span> <span class="n">pad</span> <span class="o">=</span> <span class="s">&#39;0&#39;</span><span class="p">)</span>
</code></pre></div>
<p><strong>Upper and lower case</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Print state abbreviations</span>
<span class="n">states</span>

<span class="c1"># Make states all uppercase and save result to states_upper</span>
<span class="n">states_upper</span> <span class="o">&lt;-</span> <span class="nf">toupper</span><span class="p">(</span><span class="n">states</span><span class="p">)</span>
<span class="n">states_upper</span>

<span class="c1"># Make states_upper all lowercase again</span>
<span class="nf">tolower</span><span class="p">(</span><span class="n">states_upper</span><span class="p">)</span>
</code></pre></div>
<p><strong>Finding and replacing strings</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># stringr has been loaded for you</span>
<span class="c1"># Look at the head of students2</span>
<span class="nf">head</span><span class="p">(</span><span class="n">students2</span><span class="p">)</span>

<span class="c1"># Detect all dates of birth (dob) in 1997</span>
<span class="nf">str_detect</span><span class="p">(</span><span class="n">students2</span><span class="o">$</span><span class="n">dob</span><span class="p">,</span> <span class="s">&#39;1997&#39;</span><span class="p">)</span>

<span class="c1"># In the sex column, replace &#39;F&#39; with &#39;Female&#39;...</span>
<span class="n">students2</span><span class="o">$</span><span class="n">sex</span> <span class="o">&lt;-</span> <span class="nf">str_replace</span><span class="p">(</span><span class="n">students2</span><span class="o">$</span><span class="n">sex</span><span class="p">,</span> <span class="s">&#39;F&#39;</span><span class="p">,</span> <span class="s">&#39;Female&#39;</span><span class="p">)</span>

<span class="c1"># ...And &#39;M&#39; with &#39;Male&#39;</span>
<span class="n">students2</span><span class="o">$</span><span class="n">sex</span> <span class="o">&lt;-</span> <span class="nf">str_replace</span><span class="p">(</span><span class="n">students2</span><span class="o">$</span><span class="n">sex</span><span class="p">,</span> <span class="s">&#39;M&#39;</span><span class="p">,</span> <span class="s">&#39;Male&#39;</span><span class="p">)</span>

<span class="c1"># View the head of students2</span>
<span class="nf">head</span><span class="p">(</span><span class="n">students2</span><span class="p">)</span>
</code></pre></div>
<p><strong>Finding missing values</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Call is.na() on the full social_df to spot all NAs</span>
<span class="nf">is.na</span><span class="p">(</span><span class="n">social_df</span><span class="p">)</span>

<span class="c1"># Use the any() function to ask whether there are any NAs in the data</span>
<span class="nf">any</span><span class="p">(</span><span class="nf">is.na</span><span class="p">(</span><span class="n">social_df</span><span class="p">))</span>
<span class="nf">sum</span><span class="p">(</span><span class="nf">is.na</span><span class="p">(</span><span class="n">social_df</span><span class="p">))</span>

<span class="c1"># View a summary() of the dataset</span>
<span class="nf">summary</span><span class="p">(</span><span class="n">social_df</span><span class="p">)</span>

<span class="c1"># Call table() on the status column</span>
<span class="nf">table</span><span class="p">(</span><span class="n">social_df</span><span class="o">$</span><span class="n">status</span><span class="p">)</span>
</code></pre></div>
<p><strong>Dealing with missing values</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Use str_replace() to replace all missing strings in status with NA</span>
<span class="n">social_df</span><span class="o">$</span><span class="n">status</span> <span class="o">&lt;-</span> <span class="nf">str_replace</span><span class="p">(</span><span class="n">social_df</span><span class="o">$</span><span class="n">status</span><span class="p">,</span> <span class="s">&#39;^$&#39;</span><span class="p">,</span> <span class="kc">NA</span><span class="p">)</span>

<span class="c1"># Print social_df to the console</span>
<span class="n">social_df</span>

<span class="c1"># Use complete.cases() to see which rows have no missing values</span>
<span class="nf">complete.cases</span><span class="p">(</span><span class="n">social_df</span><span class="p">)</span>

<span class="c1"># Use na.omit() to remove all rows with any missing values</span>
<span class="nf">na.omit</span><span class="p">(</span><span class="n">social_df</span><span class="p">)</span>
</code></pre></div>
<p><strong>Dealing with outliers and obvious errors</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Look at a summary() of students3</span>
<span class="nf">summary</span><span class="p">(</span><span class="n">students3</span><span class="p">)</span>

<span class="c1"># View a histogram of the age variable</span>
<span class="nf">hist</span><span class="p">(</span><span class="n">students3</span><span class="o">$</span><span class="n">age</span><span class="p">,</span> <span class="n">breaks</span> <span class="o">=</span> <span class="m">20</span><span class="p">)</span>

<span class="c1"># View a histogram of the absences variable</span>
<span class="nf">hist</span><span class="p">(</span><span class="n">students3</span><span class="o">$</span><span class="n">absences</span><span class="p">,</span> <span class="n">breaks</span> <span class="o">=</span> <span class="m">20</span><span class="p">)</span>

<span class="c1"># View a histogram of absences, but force zeros to be bucketed to the right of zero</span>
<span class="nf">hist</span><span class="p">(</span><span class="n">students3</span><span class="o">$</span><span class="n">absences</span><span class="p">,</span> <span class="n">breaks</span> <span class="o">=</span> <span class="m">20</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">)</span>
</code></pre></div>
<p><strong>Another look at strange values</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># View a boxplot of age</span>
<span class="nf">boxplot</span><span class="p">(</span><span class="n">students3</span><span class="o">$</span><span class="n">age</span><span class="p">)</span>

<span class="c1"># View a boxplot of absences</span>
<span class="nf">boxplot</span><span class="p">(</span><span class="n">students3</span><span class="o">$</span><span class="n">absences</span><span class="p">)</span>
</code></pre></div>
<h3 id="putting-it-all-together">Putting it All Together<a class="headerlink" href="#putting-it-all-together" title="Permanent link">&para;</a></h3>
<p><strong>Get a feel for the data</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Verify that weather is a data.frame</span>
<span class="nf">class</span><span class="p">(</span><span class="n">weather</span><span class="p">)</span>

<span class="c1"># Check the dimensions</span>
<span class="nf">dim</span><span class="p">(</span><span class="n">weather</span><span class="p">)</span>

<span class="c1"># View the column names</span>
<span class="nf">names</span><span class="p">(</span><span class="n">weather</span><span class="p">)</span>
</code></pre></div>
<p><strong>Summarize the data</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># View the structure of the data</span>
<span class="nf">str</span><span class="p">(</span><span class="n">weather</span><span class="p">)</span>

<span class="c1"># Load dplyr package</span>
<span class="nf">library</span><span class="p">(</span><span class="n">dplyr</span><span class="p">)</span>

<span class="c1"># Look at the structure using dplyr&#39;s glimpse()</span>
<span class="nf">glimpse</span><span class="p">(</span><span class="n">weather</span><span class="p">)</span>

<span class="c1"># View a summary of the data</span>
<span class="nf">summary</span><span class="p">(</span><span class="n">weather</span><span class="p">)</span>
</code></pre></div>
<p><strong>Take a closer look</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># View first 6 rows</span>
<span class="nf">head</span><span class="p">(</span><span class="n">weather</span><span class="p">,</span> <span class="m">6</span><span class="p">)</span>

<span class="c1"># View first 15 rows</span>
<span class="nf">head</span><span class="p">(</span><span class="n">weather</span><span class="p">,</span> <span class="m">15</span><span class="p">)</span>

<span class="c1"># View the last 6 rows</span>
<span class="nf">tail</span><span class="p">(</span><span class="n">weather</span><span class="p">,</span> <span class="m">6</span><span class="p">)</span>

<span class="c1"># View the last 10 rows</span>
<span class="nf">tail</span><span class="p">(</span><span class="n">weather</span><span class="p">,</span> <span class="m">10</span><span class="p">)</span>
</code></pre></div>
<p><strong>Column names are values</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Load the tidyr package</span>
<span class="nf">library</span><span class="p">(</span><span class="n">tidyr</span><span class="p">)</span>

<span class="c1"># Gather the columns</span>
<span class="n">weather2</span> <span class="o">&lt;-</span> <span class="nf">gather</span><span class="p">(</span><span class="n">weather</span><span class="p">,</span> <span class="n">day</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">X1</span><span class="o">:</span><span class="n">X31</span><span class="p">,</span> <span class="n">na.rm</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span>

<span class="c1"># View the head</span>
<span class="nf">head</span><span class="p">(</span><span class="n">weather2</span><span class="p">)</span>
</code></pre></div>
<p><strong>Values are variable names</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># First remove column of row names</span>
<span class="n">weather2</span> <span class="o">&lt;-</span> <span class="n">weather2</span><span class="p">[,</span> <span class="m">-1</span><span class="p">]</span>

<span class="c1"># Spread the data</span>
<span class="n">weather3</span> <span class="o">&lt;-</span> <span class="nf">spread</span><span class="p">(</span><span class="n">weather2</span><span class="p">,</span> <span class="n">measure</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

<span class="c1"># View the head</span>
<span class="nf">head</span><span class="p">(</span><span class="n">weather3</span><span class="p">)</span>
</code></pre></div>
<p><strong>Clean up dates</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Load the stringr and lubridate packages</span>
<span class="nf">library</span><span class="p">(</span><span class="n">stringr</span><span class="p">)</span>
<span class="nf">library</span><span class="p">(</span><span class="n">lubridate</span><span class="p">)</span>

<span class="c1"># Remove X&#39;s from day column</span>
<span class="c1"># weather3$day &lt;- str_pad(str_replace(weather3$day, &#39;X&#39;, &#39;&#39;), width = 2, side = &#39;left&#39;, pad = &#39;0&#39;)</span>
<span class="n">weather3</span><span class="o">$</span><span class="n">day</span> <span class="o">&lt;-</span> <span class="nf">str_replace</span><span class="p">(</span><span class="n">weather3</span><span class="o">$</span><span class="n">day</span><span class="p">,</span> <span class="s">&#39;X&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>

<span class="c1"># Unite the year, month, and day columns</span>
<span class="n">weather4</span> <span class="o">&lt;-</span> <span class="nf">unite</span><span class="p">(</span><span class="n">weather3</span><span class="p">,</span> <span class="n">date</span><span class="p">,</span> <span class="n">year</span><span class="p">,</span> <span class="n">month</span><span class="p">,</span> <span class="n">day</span><span class="p">,</span> <span class="n">sep</span> <span class="o">=</span> <span class="s">&#39;-&#39;</span><span class="p">)</span>

<span class="c1"># Convert date column to proper date format using stringr&#39;s ymd()</span>
<span class="n">weather4</span><span class="o">$</span><span class="n">date</span> <span class="o">&lt;-</span> <span class="nf">ymd</span><span class="p">(</span><span class="n">weather4</span><span class="o">$</span><span class="n">date</span><span class="p">)</span>

<span class="c1"># Rearrange columns using dplyr&#39;s select()</span>
<span class="n">weather5</span> <span class="o">&lt;-</span> <span class="nf">select</span><span class="p">(</span><span class="n">weather4</span><span class="p">,</span> <span class="n">date</span><span class="p">,</span> <span class="n">Events</span><span class="p">,</span> <span class="n">CloudCover</span><span class="o">:</span><span class="n">WindDirDegrees</span><span class="p">)</span>

<span class="c1"># View the head</span>
<span class="nf">head</span><span class="p">(</span><span class="n">weather5</span><span class="p">)</span>
</code></pre></div>
<p><strong>A closer look at column types</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># View the structure of weather5</span>
<span class="nf">str</span><span class="p">(</span><span class="n">weather5</span><span class="p">)</span>

<span class="c1"># Examine the first 20 rows of weather5. Are most of the characters numeric?</span>
<span class="nf">head</span><span class="p">(</span><span class="n">weather5</span><span class="p">,</span> <span class="m">20</span><span class="p">)</span>

<span class="c1"># See what happens if we try to convert PrecipitationIn to numeric</span>
<span class="nf">as.numeric</span><span class="p">(</span><span class="n">weather5</span><span class="o">$</span><span class="n">PrecipitationIn</span><span class="p">)</span>
</code></pre></div>
<p><strong>Column type conversions</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># The dplyr package is already loaded</span>
<span class="c1"># Replace T with 0 (T = trace)</span>
<span class="n">weather5</span><span class="o">$</span><span class="n">PrecipitationIn</span> <span class="o">&lt;-</span> <span class="nf">str_replace</span><span class="p">(</span><span class="n">weather5</span><span class="o">$</span><span class="n">PrecipitationIn</span><span class="p">,</span> <span class="s">&#39;T&#39;</span><span class="p">,</span> <span class="s">&#39;0&#39;</span><span class="p">)</span>

<span class="c1"># Convert characters to numerics</span>
<span class="n">weather6</span> <span class="o">&lt;-</span> <span class="nf">mutate_each</span><span class="p">(</span><span class="n">weather5</span><span class="p">,</span> <span class="nf">funs</span><span class="p">(</span><span class="n">as.numeric</span><span class="p">),</span> <span class="n">CloudCover</span><span class="o">:</span><span class="n">WindDirDegrees</span><span class="p">)</span>

<span class="c1"># Look at result</span>
<span class="nf">str</span><span class="p">(</span><span class="n">weather6</span><span class="p">)</span>
</code></pre></div>
<p><strong>Find missing values</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Count missing values</span>
<span class="nf">sum</span><span class="p">(</span><span class="nf">is.na</span><span class="p">(</span><span class="n">weather6</span><span class="p">))</span>

<span class="c1"># Find missing values</span>
<span class="nf">summary</span><span class="p">(</span><span class="n">weather6</span><span class="p">)</span>

<span class="c1"># Find indices of NAs in Max.Gust.SpeedMPH</span>
<span class="n">ind</span> <span class="o">&lt;-</span> <span class="nf">which</span><span class="p">(</span><span class="nf">is.na</span><span class="p">(</span><span class="n">weather6</span><span class="o">$</span><span class="n">Max.Gust.SpeedMPH</span><span class="p">))</span>
<span class="n">ind</span>

<span class="c1"># Look at the full rows for records missing Max.Gust.SpeedMPH</span>
<span class="n">weather6</span><span class="p">[</span><span class="n">ind</span><span class="p">,</span> <span class="p">]</span>
</code></pre></div>
<p><strong>An obvious error</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Review distibutions for all variables</span>
<span class="nf">summary</span><span class="p">(</span><span class="n">weather6</span><span class="p">)</span>

<span class="c1"># Find row with Max.Humidity of 1000</span>
<span class="n">ind</span> <span class="o">&lt;-</span> <span class="nf">which</span><span class="p">(</span><span class="n">weather6</span><span class="o">$</span><span class="n">Max.Humidity</span> <span class="o">==</span> <span class="m">1000</span><span class="p">)</span>

<span class="c1"># Look at the data for that day</span>
<span class="n">weather6</span><span class="p">[</span><span class="n">ind</span><span class="p">,</span> <span class="p">]</span>

<span class="c1"># Change 1000 to 100</span>
<span class="n">weather6</span><span class="o">$</span><span class="n">Max.Humidity</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span> <span class="o">&lt;-</span> <span class="m">100</span>
</code></pre></div>
<p><strong>Another obvious error</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Look at summary of Mean.VisibilityMiles</span>
<span class="nf">summary</span><span class="p">(</span><span class="n">weather6</span><span class="o">$</span><span class="n">Mean.VisibilityMiles</span><span class="p">)</span>

<span class="c1"># Get index of row with -1 value</span>
<span class="n">ind</span> <span class="o">&lt;-</span> <span class="nf">which</span><span class="p">(</span><span class="n">weather6</span><span class="o">$</span><span class="n">Mean.VisibilityMiles</span> <span class="o">==</span> <span class="m">-1</span><span class="p">)</span>

<span class="c1"># Look at full row</span>
<span class="n">weather6</span><span class="p">[</span><span class="n">ind</span><span class="p">,</span> <span class="p">]</span>

<span class="c1"># Set Mean.VisibilityMiles to the appropriate value</span>
<span class="n">weather6</span><span class="o">$</span><span class="n">Mean.VisibilityMiles</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span> <span class="o">&lt;-</span> <span class="m">10</span>
</code></pre></div>
<p><strong>Check other extreme values</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Review summary of full data once more</span>
<span class="nf">summary</span><span class="p">(</span><span class="n">weather6</span><span class="p">)</span>

<span class="c1"># Look at histogram for MeanDew.PointF</span>
<span class="nf">hist</span><span class="p">(</span><span class="n">weather6</span><span class="o">$</span><span class="n">MeanDew.PointF</span><span class="p">)</span>

<span class="c1"># Look at histogram for Min.TemperatureF</span>
<span class="nf">hist</span><span class="p">(</span><span class="n">weather6</span><span class="o">$</span><span class="n">Min.TemperatureF</span><span class="p">)</span>

<span class="c1"># Compare to histogram for Mean.TemperatureF</span>
<span class="nf">hist</span><span class="p">(</span><span class="n">weather6</span><span class="o">$</span><span class="n">Mean.TemperatureF</span><span class="p">)</span>
</code></pre></div>
<p><strong>Finishing touches</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Clean up column names</span>
<span class="nf">names</span><span class="p">(</span><span class="n">weather6</span><span class="p">)</span> <span class="o">&lt;-</span> <span class="n">new_colnames</span>

<span class="c1"># Replace empty cells in Events column</span>
<span class="n">weather6</span><span class="o">$</span><span class="n">events</span><span class="p">[</span><span class="n">weather6</span><span class="o">$</span><span class="n">events</span> <span class="o">==</span> <span class="s">&#39;&#39;</span><span class="p">]</span> <span class="o">&lt;-</span> <span class="s">&#39;None&#39;</span>

<span class="c1"># Print the first 6 rows of weather6</span>
<span class="nf">head</span><span class="p">(</span><span class="n">weather6</span><span class="p">,</span> <span class="m">6</span><span class="p">)</span>
</code></pre></div>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../intermediate_r_the_apply_family/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Intermediate R - The apply Family" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Intermediate R - The apply Family
            </div>
          </div>
        </a>
      
      
        
        <a href="../reading_data_into_r_with_readr/" class="md-footer__link md-footer__link--next" aria-label="Next: Reading Data into R with readr" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Reading Data into R with readr
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        
          Made with
          <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
            Material for MkDocs
          </a>
        
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../assets/javascripts/workers/search.f8263e09.min.js", "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.4fc53ad4.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
  </body>
</html>